{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./dist/gif.js","webpack:///./dist/gif.worker.js","webpack:///./dist/download.js","webpack:///./src/models/MainModel.js","webpack:///./src/views/MainView.js","webpack:///./src/controllers/CursorPositionController.js","webpack:///./src/controllers/MainController.js","webpack:///./src/index.js","webpack:///./src/app.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","e","u","a","f","Error","code","length","1","EventEmitter","this","_events","_maxListeners","undefined","isFunction","arg","isObject","isUndefined","defaultMaxListeners","setMaxListeners","isNaN","TypeError","emit","type","er","handler","len","args","listeners","error","arguments","err","context","Array","slice","apply","addListener","listener","newListener","push","warned","console","trace","on","once","fired","g","removeListener","list","position","splice","removeAllListeners","listenerCount","evlistener","emitter","2","UA","browser","platform","ua","navigator","userAgent","toLowerCase","match","document","documentMode","version","parseFloat","parseInt","3","GIF","hasProp","indexOf","item","superClass","defaults","frameDefaults","options","base","running","frames","freeWorkers","activeWorkers","setOptions","child","parent","ctor","constructor","__super__","extend","workerScript","workers","repeat","background","quality","width","height","transparent","debug","dither","delay","copy","setOption","_canvas","results","addFrame","image","frame","ImageData","data","CanvasRenderingContext2D","WebGLRenderingContext","getContextData","childNodes","getImageData","render","j","numWorkers","ref","nextFrame","finishedFrames","imageParts","spawnWorkers","globalPalette","renderNextFrame","abort","worker","shift","log","terminate","_this","Math","min","forEach","Worker","onmessage","event","frameFinished","index","finishRendering","k","len1","len2","len3","offset","page","ref1","ref2","pageSize","cursor","round","Uint8Array","set","Blob","task","getTask","postMessage","ctx","createElement","getContext","setFill","fillRect","drawImage","last","canTransfer","./browser.coffee","events","NeuQuant","LZWEncoder","ByteArray","pages","newPage","charMap","String","fromCharCode","GIFEncoder","transIndex","pixels","indexedPixels","colorDepth","colorTab","neuQuant","usedEntry","palSize","dispose","firstFrame","sample","out","getData","rv","writeByte","val","writeUTFBytes","string","charCodeAt","writeBytes","array","setDelay","milliseconds","setFrameRate","fps","setDispose","disposalCode","setRepeat","setTransparent","color","imageData","getImagePixels","analyzePixels","writeLSD","writePalette","writeNetscapeExt","writeGraphicCtrlExt","writeImageDesc","writePixels","finish","setQuality","setDither","setGlobalPalette","palette","getGlobalPalette","writeHeader","buildColormap","getColormap","ditherPixels","replace","indexPixels","findClosest","imgq","nPix","findClosestRGB","kernel","serpentine","kernels","FalseFloydSteinberg","FloydSteinberg","Stucki","Atkinson","ds","direction","y","x","xend","idx","r1","g1","b1","eg","eb","end","x1","y1","max","used","b","lookupRGB","minpos","dmin","dr","dg","db","w","h","srcPos","count","transp","disp","writeShort","pValue","encode","stream","./LZWEncoder.js","./TypedNeuQuant.js","EOF","BITS","HSIZE","masks","cur_accum","a_count","maxcode","g_init_bits","ClearCode","EOFCode","initCodeSize","accum","htab","Int32Array","codetab","cur_bits","free_ent","clear_flg","char_out","outs","flush_char","cl_block","cl_hash","output","hsize","MAXCODE","n_bits","nextPixel","remaining","curPixel","init_bits","fcode","ent","hsize_reg","hshift","outer_loop","compress","ncycles","netsize","maxnetpos","netbiasshift","intbiasshift","intbias","gammashift","betashift","beta","betagamma","radiusbiasshift","initradius","radiusdec","initalpha","radbias","alpharadbias","alphabiasshift","prime1","prime2","prime3","prime4","minpicturebytes","samplefac","network","netindex","bias","freq","radpower","altersingle","alpha","alterneigh","radius","lo","abs","hi","contest","dist","biasdist","betafreq","bestd","bestbiasd","bestpos","bestbiaspos","v","Float64Array","init","step","lengthcount","alphadec","samplepixels","delta","rad","pix","learn","unbiasnet","q","smallpos","smallval","previouscol","startpos","inxbuild","map","best","4","renderFrame","encoder","transfer","buffer","self","./GIFEncoder.js","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","define","download","strFileName","strMimeType","blob","reader","window","defaultMime","mimeType","payload","url","anchor","toString","myBlob","MozBlob","WebKitBlob","fileName","split","pop","href","ajax","XMLHttpRequest","open","responseType","onload","target","response","setTimeout","send","test","msSaveBlob","dataUrlToBlob","saver","tempUiArr","mx","strUrl","parts","indexDecoder","decoder","atob","decodeURIComponent","binData","uiArr","winMode","setAttribute","className","innerHTML","style","display","addEventListener","stopPropagation","removeEventListener","callee","body","appendChild","click","removeChild","URL","revokeObjectURL","confirm","location","src","createObjectURL","btoa","encodeURIComponent","FileReader","result","readAsDataURL","MainModel","database","state","currentTool","cursorColor","sizeModificator","framesArray","setFps","getFps","setFrames","getFrames","getFramesLength","setState","getState","setCursorColor","getCursorColor","setSizeModificator","size","getSizeModificator","localStorage","canvas","imgData","img","toDataURL","getBase64Image","setItem","getItem","dataImage","framesList","getElementById","MainView","preview","frameTarget","querySelector","coordinatesTarget","gifTarget","dataToImage","dataUrl","imageFoo","border","marginBottom","classList","add","renderCoords","dataX","dataY","getCursorPosition","rect","getBoundingClientRect","clientX","left","clientY","top","MainController","mainModel","appView","penBtn","createFrameBtn","eraserBtn","lineBtn","cursorColorBtn","circleBtn","fillRectagnleBtn","strokeRectangleBtn","fillCircleBtn","strokeCircleBtn","btn32","btn64","btn128","fpsBtn","preventDefault","floor","getSize","pen","drawLine","fillRectangle","strokeRectangle","fillCircle","strokeCircle","erase","createFrame","isMouseDown","beginPath","fillStyle","strokeStyle","lineTo","stroke","lineWidth","moveTo","fill","lastMouseX","lastMouseY","mouseDown","mouseX","mouseY","radious","arc","PI","startAnimation","clearInterval","animationTimer","singleFrame","setInterval","start","mainView"],"mappings":"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","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","// gif.js 0.2.0 - https://github.com/jnordberg/gif.js\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.GIF=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){function EventEmitter(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}module.exports=EventEmitter;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=undefined;EventEmitter.prototype._maxListeners=undefined;EventEmitter.defaultMaxListeners=10;EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||n<0||isNaN(n))throw TypeError(\"n must be a positive number\");this._maxListeners=n;return this};EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(!this._events)this._events={};if(type===\"error\"){if(!this._events.error||isObject(this._events.error)&&!this._events.error.length){er=arguments[1];if(er instanceof Error){throw er}else{var err=new Error('Uncaught, unspecified \"error\" event. ('+er+\")\");err.context=er;throw err}}}handler=this._events[type];if(isUndefined(handler))return false;if(isFunction(handler)){switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:args=Array.prototype.slice.call(arguments,1);handler.apply(this,args)}}else if(isObject(handler)){args=Array.prototype.slice.call(arguments,1);listeners=handler.slice();len=listeners.length;for(i=0;i<len;i++)listeners[i].apply(this,args)}return true};EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError(\"listener must be a function\");if(!this._events)this._events={};if(this._events.newListener)this.emit(\"newListener\",type,isFunction(listener.listener)?listener.listener:listener);if(!this._events[type])this._events[type]=listener;else if(isObject(this._events[type]))this._events[type].push(listener);else this._events[type]=[this._events[type],listener];if(isObject(this._events[type])&&!this._events[type].warned){if(!isUndefined(this._maxListeners)){m=this._maxListeners}else{m=EventEmitter.defaultMaxListeners}if(m&&m>0&&this._events[type].length>m){this._events[type].warned=true;console.error(\"(node) warning: possible EventEmitter memory \"+\"leak detected. %d listeners added. \"+\"Use emitter.setMaxListeners() to increase limit.\",this._events[type].length);if(typeof console.trace===\"function\"){console.trace()}}}return this};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.once=function(type,listener){if(!isFunction(listener))throw TypeError(\"listener must be a function\");var fired=false;function g(){this.removeListener(type,g);if(!fired){fired=true;listener.apply(this,arguments)}}g.listener=listener;this.on(type,g);return this};EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError(\"listener must be a function\");if(!this._events||!this._events[type])return this;list=this._events[type];length=list.length;position=-1;if(list===listener||isFunction(list.listener)&&list.listener===listener){delete this._events[type];if(this._events.removeListener)this.emit(\"removeListener\",type,listener)}else if(isObject(list)){for(i=length;i-- >0;){if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}}if(position<0)return this;if(list.length===1){list.length=0;delete this._events[type]}else{list.splice(position,1)}if(this._events.removeListener)this.emit(\"removeListener\",type,listener)}return this};EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[type])delete this._events[type];return this}if(arguments.length===0){for(key in this._events){if(key===\"removeListener\")continue;this.removeAllListeners(key)}this.removeAllListeners(\"removeListener\");this._events={};return this}listeners=this._events[type];if(isFunction(listeners)){this.removeListener(type,listeners)}else if(listeners){while(listeners.length)this.removeListener(type,listeners[listeners.length-1])}delete this._events[type];return this};EventEmitter.prototype.listeners=function(type){var ret;if(!this._events||!this._events[type])ret=[];else if(isFunction(this._events[type]))ret=[this._events[type]];else ret=this._events[type].slice();return ret};EventEmitter.prototype.listenerCount=function(type){if(this._events){var evlistener=this._events[type];if(isFunction(evlistener))return 1;else if(evlistener)return evlistener.length}return 0};EventEmitter.listenerCount=function(emitter,type){return emitter.listenerCount(type)};function isFunction(arg){return typeof arg===\"function\"}function isNumber(arg){return typeof arg===\"number\"}function isObject(arg){return typeof arg===\"object\"&&arg!==null}function isUndefined(arg){return arg===void 0}},{}],2:[function(require,module,exports){var UA,browser,mode,platform,ua;ua=navigator.userAgent.toLowerCase();platform=navigator.platform.toLowerCase();UA=ua.match(/(opera|ie|firefox|chrome|version)[\\s\\/:]([\\w\\d\\.]+)?.*?(safari|version[\\s\\/:]([\\w\\d\\.]+)|$)/)||[null,\"unknown\",0];mode=UA[1]===\"ie\"&&document.documentMode;browser={name:UA[1]===\"version\"?UA[3]:UA[1],version:mode||parseFloat(UA[1]===\"opera\"&&UA[4]?UA[4]:UA[2]),platform:{name:ua.match(/ip(?:ad|od|hone)/)?\"ios\":(ua.match(/(?:webos|android)/)||platform.match(/mac|win|linux/)||[\"other\"])[0]}};browser[browser.name]=true;browser[browser.name+parseInt(browser.version,10)]=true;browser.platform[browser.platform.name]=true;module.exports=browser},{}],3:[function(require,module,exports){var EventEmitter,GIF,browser,extend=function(child,parent){for(var key in parent){if(hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child},hasProp={}.hasOwnProperty,indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++){if(i in this&&this[i]===item)return i}return-1},slice=[].slice;EventEmitter=require(\"events\").EventEmitter;browser=require(\"./browser.coffee\");GIF=function(superClass){var defaults,frameDefaults;extend(GIF,superClass);defaults={workerScript:\"gif.worker.js\",workers:2,repeat:0,background:\"#fff\",quality:10,width:null,height:null,transparent:null,debug:false,dither:false};frameDefaults={delay:500,copy:false};function GIF(options){var base,key,value;this.running=false;this.options={};this.frames=[];this.freeWorkers=[];this.activeWorkers=[];this.setOptions(options);for(key in defaults){value=defaults[key];if((base=this.options)[key]==null){base[key]=value}}}GIF.prototype.setOption=function(key,value){this.options[key]=value;if(this._canvas!=null&&(key===\"width\"||key===\"height\")){return this._canvas[key]=value}};GIF.prototype.setOptions=function(options){var key,results,value;results=[];for(key in options){if(!hasProp.call(options,key))continue;value=options[key];results.push(this.setOption(key,value))}return results};GIF.prototype.addFrame=function(image,options){var frame,key;if(options==null){options={}}frame={};frame.transparent=this.options.transparent;for(key in frameDefaults){frame[key]=options[key]||frameDefaults[key]}if(this.options.width==null){this.setOption(\"width\",image.width)}if(this.options.height==null){this.setOption(\"height\",image.height)}if(typeof ImageData!==\"undefined\"&&ImageData!==null&&image instanceof ImageData){frame.data=image.data}else if(typeof CanvasRenderingContext2D!==\"undefined\"&&CanvasRenderingContext2D!==null&&image instanceof CanvasRenderingContext2D||typeof WebGLRenderingContext!==\"undefined\"&&WebGLRenderingContext!==null&&image instanceof WebGLRenderingContext){if(options.copy){frame.data=this.getContextData(image)}else{frame.context=image}}else if(image.childNodes!=null){if(options.copy){frame.data=this.getImageData(image)}else{frame.image=image}}else{throw new Error(\"Invalid image\")}return this.frames.push(frame)};GIF.prototype.render=function(){var i,j,numWorkers,ref;if(this.running){throw new Error(\"Already running\")}if(this.options.width==null||this.options.height==null){throw new Error(\"Width and height must be set prior to rendering\")}this.running=true;this.nextFrame=0;this.finishedFrames=0;this.imageParts=function(){var j,ref,results;results=[];for(i=j=0,ref=this.frames.length;0<=ref?j<ref:j>ref;i=0<=ref?++j:--j){results.push(null)}return results}.call(this);numWorkers=this.spawnWorkers();if(this.options.globalPalette===true){this.renderNextFrame()}else{for(i=j=0,ref=numWorkers;0<=ref?j<ref:j>ref;i=0<=ref?++j:--j){this.renderNextFrame()}}this.emit(\"start\");return this.emit(\"progress\",0)};GIF.prototype.abort=function(){var worker;while(true){worker=this.activeWorkers.shift();if(worker==null){break}this.log(\"killing active worker\");worker.terminate()}this.running=false;return this.emit(\"abort\")};GIF.prototype.spawnWorkers=function(){var j,numWorkers,ref,results;numWorkers=Math.min(this.options.workers,this.frames.length);(function(){results=[];for(var j=ref=this.freeWorkers.length;ref<=numWorkers?j<numWorkers:j>numWorkers;ref<=numWorkers?j++:j--){results.push(j)}return results}).apply(this).forEach(function(_this){return function(i){var worker;_this.log(\"spawning worker \"+i);worker=new Worker(_this.options.workerScript);worker.onmessage=function(event){_this.activeWorkers.splice(_this.activeWorkers.indexOf(worker),1);_this.freeWorkers.push(worker);return _this.frameFinished(event.data)};return _this.freeWorkers.push(worker)}}(this));return numWorkers};GIF.prototype.frameFinished=function(frame){var i,j,ref;this.log(\"frame \"+frame.index+\" finished - \"+this.activeWorkers.length+\" active\");this.finishedFrames++;this.emit(\"progress\",this.finishedFrames/this.frames.length);this.imageParts[frame.index]=frame;if(this.options.globalPalette===true){this.options.globalPalette=frame.globalPalette;this.log(\"global palette analyzed\");if(this.frames.length>2){for(i=j=1,ref=this.freeWorkers.length;1<=ref?j<ref:j>ref;i=1<=ref?++j:--j){this.renderNextFrame()}}}if(indexOf.call(this.imageParts,null)>=0){return this.renderNextFrame()}else{return this.finishRendering()}};GIF.prototype.finishRendering=function(){var data,frame,i,image,j,k,l,len,len1,len2,len3,offset,page,ref,ref1,ref2;len=0;ref=this.imageParts;for(j=0,len1=ref.length;j<len1;j++){frame=ref[j];len+=(frame.data.length-1)*frame.pageSize+frame.cursor}len+=frame.pageSize-frame.cursor;this.log(\"rendering finished - filesize \"+Math.round(len/1e3)+\"kb\");data=new Uint8Array(len);offset=0;ref1=this.imageParts;for(k=0,len2=ref1.length;k<len2;k++){frame=ref1[k];ref2=frame.data;for(i=l=0,len3=ref2.length;l<len3;i=++l){page=ref2[i];data.set(page,offset);if(i===frame.data.length-1){offset+=frame.cursor}else{offset+=frame.pageSize}}}image=new Blob([data],{type:\"image/gif\"});return this.emit(\"finished\",image,data)};GIF.prototype.renderNextFrame=function(){var frame,task,worker;if(this.freeWorkers.length===0){throw new Error(\"No free workers\")}if(this.nextFrame>=this.frames.length){return}frame=this.frames[this.nextFrame++];worker=this.freeWorkers.shift();task=this.getTask(frame);this.log(\"starting frame \"+(task.index+1)+\" of \"+this.frames.length);this.activeWorkers.push(worker);return worker.postMessage(task)};GIF.prototype.getContextData=function(ctx){return ctx.getImageData(0,0,this.options.width,this.options.height).data};GIF.prototype.getImageData=function(image){var ctx;if(this._canvas==null){this._canvas=document.createElement(\"canvas\");this._canvas.width=this.options.width;this._canvas.height=this.options.height}ctx=this._canvas.getContext(\"2d\");ctx.setFill=this.options.background;ctx.fillRect(0,0,this.options.width,this.options.height);ctx.drawImage(image,0,0);return this.getContextData(ctx)};GIF.prototype.getTask=function(frame){var index,task;index=this.frames.indexOf(frame);task={index:index,last:index===this.frames.length-1,delay:frame.delay,transparent:frame.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,dither:this.options.dither,globalPalette:this.options.globalPalette,repeat:this.options.repeat,canTransfer:browser.name===\"chrome\"};if(frame.data!=null){task.data=frame.data}else if(frame.context!=null){task.data=this.getContextData(frame.context)}else if(frame.image!=null){task.data=this.getImageData(frame.image)}else{throw new Error(\"Invalid frame\")}return task};GIF.prototype.log=function(){var args;args=1<=arguments.length?slice.call(arguments,0):[];if(!this.options.debug){return}return console.log.apply(console,args)};return GIF}(EventEmitter);module.exports=GIF},{\"./browser.coffee\":2,events:1}]},{},[3])(3)});\n\n","// gif.worker.js 0.2.0 - https://github.com/jnordberg/gif.js\n(function e(t, n, r) { function s(o, u) { if (!n[o]) { if (!t[o]) { var a = typeof require == \"function\" && require; if (!u && a) return a(o, !0); if (i) return i(o, !0); var f = new Error(\"Cannot find module '\" + o + \"'\"); throw f.code = \"MODULE_NOT_FOUND\", f } var l = n[o] = { exports: {} }; t[o][0].call(l.exports, function (e) { var n = t[o][1][e]; return s(n ? n : e) }, l, l.exports, e, t, n, r) } return n[o].exports } var i = typeof require == \"function\" && require; for (var o = 0; o < r.length; o++)s(r[o]); return s })({ 1: [function (require, module, exports) { var NeuQuant = require(\"./TypedNeuQuant.js\"); var LZWEncoder = require(\"./LZWEncoder.js\"); function ByteArray() { this.page = -1; this.pages = []; this.newPage() } ByteArray.pageSize = 4096; ByteArray.charMap = {}; for (var i = 0; i < 256; i++)ByteArray.charMap[i] = String.fromCharCode(i); ByteArray.prototype.newPage = function () { this.pages[++this.page] = new Uint8Array(ByteArray.pageSize); this.cursor = 0 }; ByteArray.prototype.getData = function () { var rv = \"\"; for (var p = 0; p < this.pages.length; p++) { for (var i = 0; i < ByteArray.pageSize; i++) { rv += ByteArray.charMap[this.pages[p][i]] } } return rv }; ByteArray.prototype.writeByte = function (val) { if (this.cursor >= ByteArray.pageSize) this.newPage(); this.pages[this.page][this.cursor++] = val }; ByteArray.prototype.writeUTFBytes = function (string) { for (var l = string.length, i = 0; i < l; i++)this.writeByte(string.charCodeAt(i)) }; ByteArray.prototype.writeBytes = function (array, offset, length) { for (var l = length || array.length, i = offset || 0; i < l; i++)this.writeByte(array[i]) }; function GIFEncoder(width, height) { this.width = ~~width; this.height = ~~height; this.transparent = null; this.transIndex = 0; this.repeat = -1; this.delay = 0; this.image = null; this.pixels = null; this.indexedPixels = null; this.colorDepth = null; this.colorTab = null; this.neuQuant = null; this.usedEntry = new Array; this.palSize = 7; this.dispose = -1; this.firstFrame = true; this.sample = 10; this.dither = false; this.globalPalette = false; this.out = new ByteArray } GIFEncoder.prototype.setDelay = function (milliseconds) { this.delay = Math.round(milliseconds / 10) }; GIFEncoder.prototype.setFrameRate = function (fps) { this.delay = Math.round(100 / fps) }; GIFEncoder.prototype.setDispose = function (disposalCode) { if (disposalCode >= 0) this.dispose = disposalCode }; GIFEncoder.prototype.setRepeat = function (repeat) { this.repeat = repeat }; GIFEncoder.prototype.setTransparent = function (color) { this.transparent = color }; GIFEncoder.prototype.addFrame = function (imageData) { this.image = imageData; this.colorTab = this.globalPalette && this.globalPalette.slice ? this.globalPalette : null; this.getImagePixels(); this.analyzePixels(); if (this.globalPalette === true) this.globalPalette = this.colorTab; if (this.firstFrame) { this.writeLSD(); this.writePalette(); if (this.repeat >= 0) { this.writeNetscapeExt() } } this.writeGraphicCtrlExt(); this.writeImageDesc(); if (!this.firstFrame && !this.globalPalette) this.writePalette(); this.writePixels(); this.firstFrame = false }; GIFEncoder.prototype.finish = function () { this.out.writeByte(59) }; GIFEncoder.prototype.setQuality = function (quality) { if (quality < 1) quality = 1; this.sample = quality }; GIFEncoder.prototype.setDither = function (dither) { if (dither === true) dither = \"FloydSteinberg\"; this.dither = dither }; GIFEncoder.prototype.setGlobalPalette = function (palette) { this.globalPalette = palette }; GIFEncoder.prototype.getGlobalPalette = function () { return this.globalPalette && this.globalPalette.slice && this.globalPalette.slice(0) || this.globalPalette }; GIFEncoder.prototype.writeHeader = function () { this.out.writeUTFBytes(\"GIF89a\") }; GIFEncoder.prototype.analyzePixels = function () { if (!this.colorTab) { this.neuQuant = new NeuQuant(this.pixels, this.sample); this.neuQuant.buildColormap(); this.colorTab = this.neuQuant.getColormap() } if (this.dither) { this.ditherPixels(this.dither.replace(\"-serpentine\", \"\"), this.dither.match(/-serpentine/) !== null) } else { this.indexPixels() } this.pixels = null; this.colorDepth = 8; this.palSize = 7; if (this.transparent !== null) { this.transIndex = this.findClosest(this.transparent, true) } }; GIFEncoder.prototype.indexPixels = function (imgq) { var nPix = this.pixels.length / 3; this.indexedPixels = new Uint8Array(nPix); var k = 0; for (var j = 0; j < nPix; j++) { var index = this.findClosestRGB(this.pixels[k++] & 255, this.pixels[k++] & 255, this.pixels[k++] & 255); this.usedEntry[index] = true; this.indexedPixels[j] = index } }; GIFEncoder.prototype.ditherPixels = function (kernel, serpentine) { var kernels = { FalseFloydSteinberg: [[3 / 8, 1, 0], [3 / 8, 0, 1], [2 / 8, 1, 1]], FloydSteinberg: [[7 / 16, 1, 0], [3 / 16, -1, 1], [5 / 16, 0, 1], [1 / 16, 1, 1]], Stucki: [[8 / 42, 1, 0], [4 / 42, 2, 0], [2 / 42, -2, 1], [4 / 42, -1, 1], [8 / 42, 0, 1], [4 / 42, 1, 1], [2 / 42, 2, 1], [1 / 42, -2, 2], [2 / 42, -1, 2], [4 / 42, 0, 2], [2 / 42, 1, 2], [1 / 42, 2, 2]], Atkinson: [[1 / 8, 1, 0], [1 / 8, 2, 0], [1 / 8, -1, 1], [1 / 8, 0, 1], [1 / 8, 1, 1], [1 / 8, 0, 2]] }; if (!kernel || !kernels[kernel]) { throw \"Unknown dithering kernel: \" + kernel } var ds = kernels[kernel]; var index = 0, height = this.height, width = this.width, data = this.pixels; var direction = serpentine ? -1 : 1; this.indexedPixels = new Uint8Array(this.pixels.length / 3); for (var y = 0; y < height; y++) { if (serpentine) direction = direction * -1; for (var x = direction == 1 ? 0 : width - 1, xend = direction == 1 ? width : 0; x !== xend; x += direction) { index = y * width + x; var idx = index * 3; var r1 = data[idx]; var g1 = data[idx + 1]; var b1 = data[idx + 2]; idx = this.findClosestRGB(r1, g1, b1); this.usedEntry[idx] = true; this.indexedPixels[index] = idx; idx *= 3; var r2 = this.colorTab[idx]; var g2 = this.colorTab[idx + 1]; var b2 = this.colorTab[idx + 2]; var er = r1 - r2; var eg = g1 - g2; var eb = b1 - b2; for (var i = direction == 1 ? 0 : ds.length - 1, end = direction == 1 ? ds.length : 0; i !== end; i += direction) { var x1 = ds[i][1]; var y1 = ds[i][2]; if (x1 + x >= 0 && x1 + x < width && y1 + y >= 0 && y1 + y < height) { var d = ds[i][0]; idx = index + x1 + y1 * width; idx *= 3; data[idx] = Math.max(0, Math.min(255, data[idx] + er * d)); data[idx + 1] = Math.max(0, Math.min(255, data[idx + 1] + eg * d)); data[idx + 2] = Math.max(0, Math.min(255, data[idx + 2] + eb * d)) } } } } }; GIFEncoder.prototype.findClosest = function (c, used) { return this.findClosestRGB((c & 16711680) >> 16, (c & 65280) >> 8, c & 255, used) }; GIFEncoder.prototype.findClosestRGB = function (r, g, b, used) { if (this.colorTab === null) return -1; if (this.neuQuant && !used) { return this.neuQuant.lookupRGB(r, g, b) } var c = b | g << 8 | r << 16; var minpos = 0; var dmin = 256 * 256 * 256; var len = this.colorTab.length; for (var i = 0, index = 0; i < len; index++) { var dr = r - (this.colorTab[i++] & 255); var dg = g - (this.colorTab[i++] & 255); var db = b - (this.colorTab[i++] & 255); var d = dr * dr + dg * dg + db * db; if ((!used || this.usedEntry[index]) && d < dmin) { dmin = d; minpos = index } } return minpos }; GIFEncoder.prototype.getImagePixels = function () { var w = this.width; var h = this.height; this.pixels = new Uint8Array(w * h * 3); var data = this.image; var srcPos = 0; var count = 0; for (var i = 0; i < h; i++) { for (var j = 0; j < w; j++) { this.pixels[count++] = data[srcPos++]; this.pixels[count++] = data[srcPos++]; this.pixels[count++] = data[srcPos++]; srcPos++ } } }; GIFEncoder.prototype.writeGraphicCtrlExt = function () { this.out.writeByte(33); this.out.writeByte(249); this.out.writeByte(4); var transp, disp; if (this.transparent === null) { transp = 0; disp = 0 } else { transp = 1; disp = 2 } if (this.dispose >= 0) { disp = dispose & 7 } disp <<= 2; this.out.writeByte(0 | disp | 0 | transp); this.writeShort(this.delay); this.out.writeByte(this.transIndex); this.out.writeByte(0) }; GIFEncoder.prototype.writeImageDesc = function () { this.out.writeByte(44); this.writeShort(0); this.writeShort(0); this.writeShort(this.width); this.writeShort(this.height); if (this.firstFrame || this.globalPalette) { this.out.writeByte(0) } else { this.out.writeByte(128 | 0 | 0 | 0 | this.palSize) } }; GIFEncoder.prototype.writeLSD = function () { this.writeShort(this.width); this.writeShort(this.height); this.out.writeByte(128 | 112 | 0 | this.palSize); this.out.writeByte(0); this.out.writeByte(0) }; GIFEncoder.prototype.writeNetscapeExt = function () { this.out.writeByte(33); this.out.writeByte(255); this.out.writeByte(11); this.out.writeUTFBytes(\"NETSCAPE2.0\"); this.out.writeByte(3); this.out.writeByte(1); this.writeShort(this.repeat); this.out.writeByte(0) }; GIFEncoder.prototype.writePalette = function () { this.out.writeBytes(this.colorTab); var n = 3 * 256 - this.colorTab.length; for (var i = 0; i < n; i++)this.out.writeByte(0) }; GIFEncoder.prototype.writeShort = function (pValue) { this.out.writeByte(pValue & 255); this.out.writeByte(pValue >> 8 & 255) }; GIFEncoder.prototype.writePixels = function () { var enc = new LZWEncoder(this.width, this.height, this.indexedPixels, this.colorDepth); enc.encode(this.out) }; GIFEncoder.prototype.stream = function () { return this.out }; module.exports = GIFEncoder }, { \"./LZWEncoder.js\": 2, \"./TypedNeuQuant.js\": 3 }], 2: [function (require, module, exports) { var EOF = -1; var BITS = 12; var HSIZE = 5003; var masks = [0, 1, 3, 7, 15, 31, 63, 127, 255, 511, 1023, 2047, 4095, 8191, 16383, 32767, 65535]; function LZWEncoder(width, height, pixels, colorDepth) { var initCodeSize = Math.max(2, colorDepth); var accum = new Uint8Array(256); var htab = new Int32Array(HSIZE); var codetab = new Int32Array(HSIZE); var cur_accum, cur_bits = 0; var a_count; var free_ent = 0; var maxcode; var clear_flg = false; var g_init_bits, ClearCode, EOFCode; function char_out(c, outs) { accum[a_count++] = c; if (a_count >= 254) flush_char(outs) } function cl_block(outs) { cl_hash(HSIZE); free_ent = ClearCode + 2; clear_flg = true; output(ClearCode, outs) } function cl_hash(hsize) { for (var i = 0; i < hsize; ++i)htab[i] = -1 } function compress(init_bits, outs) { var fcode, c, i, ent, disp, hsize_reg, hshift; g_init_bits = init_bits; clear_flg = false; n_bits = g_init_bits; maxcode = MAXCODE(n_bits); ClearCode = 1 << init_bits - 1; EOFCode = ClearCode + 1; free_ent = ClearCode + 2; a_count = 0; ent = nextPixel(); hshift = 0; for (fcode = HSIZE; fcode < 65536; fcode *= 2)++hshift; hshift = 8 - hshift; hsize_reg = HSIZE; cl_hash(hsize_reg); output(ClearCode, outs); outer_loop: while ((c = nextPixel()) != EOF) { fcode = (c << BITS) + ent; i = c << hshift ^ ent; if (htab[i] === fcode) { ent = codetab[i]; continue } else if (htab[i] >= 0) { disp = hsize_reg - i; if (i === 0) disp = 1; do { if ((i -= disp) < 0) i += hsize_reg; if (htab[i] === fcode) { ent = codetab[i]; continue outer_loop } } while (htab[i] >= 0) } output(ent, outs); ent = c; if (free_ent < 1 << BITS) { codetab[i] = free_ent++; htab[i] = fcode } else { cl_block(outs) } } output(ent, outs); output(EOFCode, outs) } function encode(outs) { outs.writeByte(initCodeSize); remaining = width * height; curPixel = 0; compress(initCodeSize + 1, outs); outs.writeByte(0) } function flush_char(outs) { if (a_count > 0) { outs.writeByte(a_count); outs.writeBytes(accum, 0, a_count); a_count = 0 } } function MAXCODE(n_bits) { return (1 << n_bits) - 1 } function nextPixel() { if (remaining === 0) return EOF; --remaining; var pix = pixels[curPixel++]; return pix & 255 } function output(code, outs) { cur_accum &= masks[cur_bits]; if (cur_bits > 0) cur_accum |= code << cur_bits; else cur_accum = code; cur_bits += n_bits; while (cur_bits >= 8) { char_out(cur_accum & 255, outs); cur_accum >>= 8; cur_bits -= 8 } if (free_ent > maxcode || clear_flg) { if (clear_flg) { maxcode = MAXCODE(n_bits = g_init_bits); clear_flg = false } else { ++n_bits; if (n_bits == BITS) maxcode = 1 << BITS; else maxcode = MAXCODE(n_bits) } } if (code == EOFCode) { while (cur_bits > 0) { char_out(cur_accum & 255, outs); cur_accum >>= 8; cur_bits -= 8 } flush_char(outs) } } this.encode = encode } module.exports = LZWEncoder }, {}], 3: [function (require, module, exports) { var ncycles = 100; var netsize = 256; var maxnetpos = netsize - 1; var netbiasshift = 4; var intbiasshift = 16; var intbias = 1 << intbiasshift; var gammashift = 10; var gamma = 1 << gammashift; var betashift = 10; var beta = intbias >> betashift; var betagamma = intbias << gammashift - betashift; var initrad = netsize >> 3; var radiusbiasshift = 6; var radiusbias = 1 << radiusbiasshift; var initradius = initrad * radiusbias; var radiusdec = 30; var alphabiasshift = 10; var initalpha = 1 << alphabiasshift; var alphadec; var radbiasshift = 8; var radbias = 1 << radbiasshift; var alpharadbshift = alphabiasshift + radbiasshift; var alpharadbias = 1 << alpharadbshift; var prime1 = 499; var prime2 = 491; var prime3 = 487; var prime4 = 503; var minpicturebytes = 3 * prime4; function NeuQuant(pixels, samplefac) { var network; var netindex; var bias; var freq; var radpower; function init() { network = []; netindex = new Int32Array(256); bias = new Int32Array(netsize); freq = new Int32Array(netsize); radpower = new Int32Array(netsize >> 3); var i, v; for (i = 0; i < netsize; i++) { v = (i << netbiasshift + 8) / netsize; network[i] = new Float64Array([v, v, v, 0]); freq[i] = intbias / netsize; bias[i] = 0 } } function unbiasnet() { for (var i = 0; i < netsize; i++) { network[i][0] >>= netbiasshift; network[i][1] >>= netbiasshift; network[i][2] >>= netbiasshift; network[i][3] = i } } function altersingle(alpha, i, b, g, r) { network[i][0] -= alpha * (network[i][0] - b) / initalpha; network[i][1] -= alpha * (network[i][1] - g) / initalpha; network[i][2] -= alpha * (network[i][2] - r) / initalpha } function alterneigh(radius, i, b, g, r) { var lo = Math.abs(i - radius); var hi = Math.min(i + radius, netsize); var j = i + 1; var k = i - 1; var m = 1; var p, a; while (j < hi || k > lo) { a = radpower[m++]; if (j < hi) { p = network[j++]; p[0] -= a * (p[0] - b) / alpharadbias; p[1] -= a * (p[1] - g) / alpharadbias; p[2] -= a * (p[2] - r) / alpharadbias } if (k > lo) { p = network[k--]; p[0] -= a * (p[0] - b) / alpharadbias; p[1] -= a * (p[1] - g) / alpharadbias; p[2] -= a * (p[2] - r) / alpharadbias } } } function contest(b, g, r) { var bestd = ~(1 << 31); var bestbiasd = bestd; var bestpos = -1; var bestbiaspos = bestpos; var i, n, dist, biasdist, betafreq; for (i = 0; i < netsize; i++) { n = network[i]; dist = Math.abs(n[0] - b) + Math.abs(n[1] - g) + Math.abs(n[2] - r); if (dist < bestd) { bestd = dist; bestpos = i } biasdist = dist - (bias[i] >> intbiasshift - netbiasshift); if (biasdist < bestbiasd) { bestbiasd = biasdist; bestbiaspos = i } betafreq = freq[i] >> betashift; freq[i] -= betafreq; bias[i] += betafreq << gammashift } freq[bestpos] += beta; bias[bestpos] -= betagamma; return bestbiaspos } function inxbuild() { var i, j, p, q, smallpos, smallval, previouscol = 0, startpos = 0; for (i = 0; i < netsize; i++) { p = network[i]; smallpos = i; smallval = p[1]; for (j = i + 1; j < netsize; j++) { q = network[j]; if (q[1] < smallval) { smallpos = j; smallval = q[1] } } q = network[smallpos]; if (i != smallpos) { j = q[0]; q[0] = p[0]; p[0] = j; j = q[1]; q[1] = p[1]; p[1] = j; j = q[2]; q[2] = p[2]; p[2] = j; j = q[3]; q[3] = p[3]; p[3] = j } if (smallval != previouscol) { netindex[previouscol] = startpos + i >> 1; for (j = previouscol + 1; j < smallval; j++)netindex[j] = i; previouscol = smallval; startpos = i } } netindex[previouscol] = startpos + maxnetpos >> 1; for (j = previouscol + 1; j < 256; j++)netindex[j] = maxnetpos } function inxsearch(b, g, r) { var a, p, dist; var bestd = 1e3; var best = -1; var i = netindex[g]; var j = i - 1; while (i < netsize || j >= 0) { if (i < netsize) { p = network[i]; dist = p[1] - g; if (dist >= bestd) i = netsize; else { i++; if (dist < 0) dist = -dist; a = p[0] - b; if (a < 0) a = -a; dist += a; if (dist < bestd) { a = p[2] - r; if (a < 0) a = -a; dist += a; if (dist < bestd) { bestd = dist; best = p[3] } } } } if (j >= 0) { p = network[j]; dist = g - p[1]; if (dist >= bestd) j = -1; else { j--; if (dist < 0) dist = -dist; a = p[0] - b; if (a < 0) a = -a; dist += a; if (dist < bestd) { a = p[2] - r; if (a < 0) a = -a; dist += a; if (dist < bestd) { bestd = dist; best = p[3] } } } } } return best } function learn() { var i; var lengthcount = pixels.length; var alphadec = 30 + (samplefac - 1) / 3; var samplepixels = lengthcount / (3 * samplefac); var delta = ~~(samplepixels / ncycles); var alpha = initalpha; var radius = initradius; var rad = radius >> radiusbiasshift; if (rad <= 1) rad = 0; for (i = 0; i < rad; i++)radpower[i] = alpha * ((rad * rad - i * i) * radbias / (rad * rad)); var step; if (lengthcount < minpicturebytes) { samplefac = 1; step = 3 } else if (lengthcount % prime1 !== 0) { step = 3 * prime1 } else if (lengthcount % prime2 !== 0) { step = 3 * prime2 } else if (lengthcount % prime3 !== 0) { step = 3 * prime3 } else { step = 3 * prime4 } var b, g, r, j; var pix = 0; i = 0; while (i < samplepixels) { b = (pixels[pix] & 255) << netbiasshift; g = (pixels[pix + 1] & 255) << netbiasshift; r = (pixels[pix + 2] & 255) << netbiasshift; j = contest(b, g, r); altersingle(alpha, j, b, g, r); if (rad !== 0) alterneigh(rad, j, b, g, r); pix += step; if (pix >= lengthcount) pix -= lengthcount; i++; if (delta === 0) delta = 1; if (i % delta === 0) { alpha -= alpha / alphadec; radius -= radius / radiusdec; rad = radius >> radiusbiasshift; if (rad <= 1) rad = 0; for (j = 0; j < rad; j++)radpower[j] = alpha * ((rad * rad - j * j) * radbias / (rad * rad)) } } } function buildColormap() { init(); learn(); unbiasnet(); inxbuild() } this.buildColormap = buildColormap; function getColormap() { var map = []; var index = []; for (var i = 0; i < netsize; i++)index[network[i][3]] = i; var k = 0; for (var l = 0; l < netsize; l++) { var j = index[l]; map[k++] = network[j][0]; map[k++] = network[j][1]; map[k++] = network[j][2] } return map } this.getColormap = getColormap; this.lookupRGB = inxsearch } module.exports = NeuQuant }, {}], 4: [function (require, module, exports) { var GIFEncoder, renderFrame; GIFEncoder = require(\"./GIFEncoder.js\"); renderFrame = function (frame) { var encoder, page, stream, transfer; encoder = new GIFEncoder(frame.width, frame.height); if (frame.index === 0) { encoder.writeHeader() } else { encoder.firstFrame = false } encoder.setTransparent(frame.transparent); encoder.setRepeat(frame.repeat); encoder.setDelay(frame.delay); encoder.setQuality(frame.quality); encoder.setDither(frame.dither); encoder.setGlobalPalette(frame.globalPalette); encoder.addFrame(frame.data); if (frame.last) { encoder.finish() } if (frame.globalPalette === true) { frame.globalPalette = encoder.getGlobalPalette() } stream = encoder.stream(); frame.data = stream.pages; frame.cursor = stream.cursor; frame.pageSize = stream.constructor.pageSize; if (frame.canTransfer) { transfer = function () { var i, len, ref, results; ref = frame.data; results = []; for (i = 0, len = ref.length; i < len; i++) { page = ref[i]; results.push(page.buffer) } return results }(); return self.postMessage(frame, transfer) } else { return self.postMessage(frame) } }; self.onmessage = function (event) { return renderFrame(event.data) } }, { \"./GIFEncoder.js\": 1 }] }, {}, [4]);\n\n","//download.js v4.21, by dandavis; 2008-2018. [MIT] see http://danml.com/download.html for tests/usage\n// v1 landed a FF+Chrome compatible way of downloading strings to local un-named files, upgraded to use a hidden frame and optional mime\n// v2 added named files via a[download], msSaveBlob, IE (10+) support, and window.URL support for larger+faster saves than dataURLs\n// v3 added dataURL and Blob Input, bind-toggle arity, and legacy dataURL fallback was improved with force-download mime and base64 support. 3.1 improved safari handling.\n// v4 adds AMD/UMD, commonJS, and plain browser support\n// v4.1 adds url download capability via solo URL argument (same domain/CORS only)\n// v4.2 adds semantic variable names, long (over 2MB) dataURL support, and hidden by default temp anchors\n// https://github.com/rndme/download\n\n(function (root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([], factory);\n\t} else if (typeof exports === 'object') {\n\t\t// Node. Does not work with strict CommonJS, but\n\t\t// only CommonJS-like environments that support module.exports,\n\t\t// like Node.\n\t\tmodule.exports = factory();\n\t} else {\n\t\t// Browser globals (root is window)\n\t\troot.download = factory();\n  }\n}(this, function () {\n\n\treturn function download(data, strFileName, strMimeType) {\n\n\t\tvar self = window, // this script is only for browsers anyway...\n\t\t\tdefaultMime = \"application/octet-stream\", // this default mime also triggers iframe downloads\n\t\t\tmimeType = strMimeType || defaultMime,\n\t\t\tpayload = data,\n\t\t\turl = !strFileName && !strMimeType && payload,\n\t\t\tanchor = document.createElement(\"a\"),\n\t\t\ttoString = function(a){return String(a);},\n\t\t\tmyBlob = (self.Blob || self.MozBlob || self.WebKitBlob || toString),\n\t\t\tfileName = strFileName || \"download\",\n\t\t\tblob,\n\t\t\treader;\n\t\t\tmyBlob= myBlob.call ? myBlob.bind(self) : Blob ;\n\t  \n\t\tif(String(this)===\"true\"){ //reverse arguments, allowing download.bind(true, \"text/xml\", \"export.xml\") to act as a callback\n\t\t\tpayload=[payload, mimeType];\n\t\t\tmimeType=payload[0];\n\t\t\tpayload=payload[1];\n\t\t}\n\n\n\t\tif(url && url.length< 2048){ // if no filename and no mime, assume a url was passed as the only argument\n\t\t\tfileName = url.split(\"/\").pop().split(\"?\")[0];\n\t\t\tanchor.href = url; // assign href prop to temp anchor\n\t\t  \tif(anchor.href.indexOf(url) !== -1){ // if the browser determines that it's a potentially valid url path:\n        \t\tvar ajax=new XMLHttpRequest();\n        \t\tajax.open( \"GET\", url, true);\n        \t\tajax.responseType = 'blob';\n        \t\tajax.onload= function(e){ \n\t\t\t\t  download(e.target.response, fileName, defaultMime);\n\t\t\t\t};\n        \t\tsetTimeout(function(){ ajax.send();}, 0); // allows setting custom ajax headers using the return:\n\t\t\t    return ajax;\n\t\t\t} // end if valid url?\n\t\t} // end if url?\n\n\n\t\t//go ahead and download dataURLs right away\n\t\tif(/^data:([\\w+-]+\\/[\\w+.-]+)?[,;]/.test(payload)){\n\t\t\n\t\t\tif(payload.length > (1024*1024*1.999) && myBlob !== toString ){\n\t\t\t\tpayload=dataUrlToBlob(payload);\n\t\t\t\tmimeType=payload.type || defaultMime;\n\t\t\t}else{\t\t\t\n\t\t\t\treturn navigator.msSaveBlob ?  // IE10 can't do a[download], only Blobs:\n\t\t\t\t\tnavigator.msSaveBlob(dataUrlToBlob(payload), fileName) :\n\t\t\t\t\tsaver(payload) ; // everyone else can save dataURLs un-processed\n\t\t\t}\n\t\t\t\n\t\t}else{//not data url, is it a string with special needs?\n\t\t\tif(/([\\x80-\\xff])/.test(payload)){\t\t\t  \n\t\t\t\tvar i=0, tempUiArr= new Uint8Array(payload.length), mx=tempUiArr.length;\n\t\t\t\tfor(i;i<mx;++i) tempUiArr[i]= payload.charCodeAt(i);\n\t\t\t \tpayload=new myBlob([tempUiArr], {type: mimeType});\n\t\t\t}\t\t  \n\t\t}\n\t\tblob = payload instanceof myBlob ?\n\t\t\tpayload :\n\t\t\tnew myBlob([payload], {type: mimeType}) ;\n\n\n\t\tfunction dataUrlToBlob(strUrl) {\n\t\t\tvar parts= strUrl.split(/[:;,]/),\n\t\t\ttype= parts[1],\n\t\t\tindexDecoder = strUrl.indexOf(\"charset\")>0 ? 3: 2,\n\t\t\tdecoder= parts[indexDecoder] == \"base64\" ? atob : decodeURIComponent,\n\t\t\tbinData= decoder( parts.pop() ),\n\t\t\tmx= binData.length,\n\t\t\ti= 0,\n\t\t\tuiArr= new Uint8Array(mx);\n\n\t\t\tfor(i;i<mx;++i) uiArr[i]= binData.charCodeAt(i);\n\n\t\t\treturn new myBlob([uiArr], {type: type});\n\t\t }\n\n\t\tfunction saver(url, winMode){\n\n\t\t\tif ('download' in anchor) { //html5 A[download]\n\t\t\t\tanchor.href = url;\n\t\t\t\tanchor.setAttribute(\"download\", fileName);\n\t\t\t\tanchor.className = \"download-js-link\";\n\t\t\t\tanchor.innerHTML = \"downloading...\";\n\t\t\t\tanchor.style.display = \"none\";\n \t\t\t\tanchor.addEventListener('click', function(e) {\n \t\t\t\t\te.stopPropagation();\n \t\t\t\t\tthis.removeEventListener('click', arguments.callee);\n \t\t\t\t});\n\t\t\t\tdocument.body.appendChild(anchor);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tanchor.click();\n\t\t\t\t\tdocument.body.removeChild(anchor);\n\t\t\t\t\tif(winMode===true){setTimeout(function(){ self.URL.revokeObjectURL(anchor.href);}, 250 );}\n\t\t\t\t}, 66);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// handle non-a[download] safari as best we can:\n\t\t\tif(/(Version)\\/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari\\//.test(navigator.userAgent)) {\n\t\t\t\tif(/^data:/.test(url))\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t\tif(!window.open(url)){ // popup blocked, offer direct download:\n\t\t\t\t\tif(confirm(\"Displaying New Document\\n\\nUse Save As... to download, then click back to return to this page.\")){ location.href=url; }\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t//do iframe dataURL download (old ch+FF):\n\t\t\tvar f = document.createElement(\"iframe\");\n\t\t\tdocument.body.appendChild(f);\n\n\t\t\tif(!winMode && /^data:/.test(url)){ // force a mime that will download:\n\t\t\t\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t}\n\t\t\tf.src=url;\n\t\t\tsetTimeout(function(){ document.body.removeChild(f); }, 333);\n\n\t\t}//end saver\n\n\n\n\n\t\tif (navigator.msSaveBlob) { // IE10+ : (has Blob, but not a[download] or URL)\n\t\t\treturn navigator.msSaveBlob(blob, fileName);\n\t\t}\n\n\t\tif(self.URL){ // simple fast and modern way using Blob and URL:\n\t\t\tsaver(self.URL.createObjectURL(blob), true);\n\t\t}else{\n\t\t\t// handle non-Blob()+non-URL browsers:\n\t\t\tif(typeof blob === \"string\" || blob.constructor===toString ){\n\t\t\t\ttry{\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \";base64,\"  +  self.btoa(blob)  );\n\t\t\t\t}catch(y){\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \",\" + encodeURIComponent(blob)  );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Blob but not URL support:\n\t\t\treader=new FileReader();\n\t\t\treader.onload=function(e){\n\t\t\t\tsaver(this.result);\n\t\t\t};\n\t\t\treader.readAsDataURL(blob);\n\t\t}\n\t\treturn true;\n\t}; /* end download() */\n}));\n","/* eslint-disable prefer-const */\n/* eslint-disable class-methods-use-this */\n/* eslint-disable no-console */\n/* eslint-disable no-unused-vars */\n/* eslint-disable no-plusplus */\n/* eslint-disable no-unused-vars */\n/* eslint-disable no-new */\nexport default class MainModel {\n  constructor(database, state) {\n    this.database = database;\n    this.state = {\n      currentTool: '',\n    };\n    this.cursorColor = '';\n    this.sizeModificator = 5;\n    this.fps = 10;\n    // eslint-disable-next-line no-array-constructor\n    this.framesArray = [];\n  }\n\n  setFps(fps) {\n    this.fps = fps;\n  }\n\n  getFps() {\n    return this.fps;\n  }\n\n  setFrames(frame) {\n    this.framesArray.push(frame);\n  }\n\n  getFrames() {\n    return this.framesArray;\n  }\n\n  getFramesLength() {\n    return this.framesArray.length;\n  }\n\n  setState(state) {\n    this.state.currentTool = state;\n  }\n\n  getState(state) {\n    console.log(this.state.currentTool);\n    return this.state.currentTool;\n  }\n\n  setCursorColor(color) {\n    this.cursorColor = color;\n  }\n\n  getCursorColor() {\n    return this.cursorColor;\n  }\n\n  setSizeModificator(size) {\n    this.sizeModificator = size;\n  }\n\n  getSizeModificator() {\n    return this.sizeModificator;\n  }\n\n  localStorage(frame, canvas) {\n    // still doesnt work\n    let getBase64Image = (img) => {\n      // eslint-disable-next-line no-shadow\n      let canvas = document.createElement('canvas');\n      canvas.width = 120;\n      canvas.height = 120;\n\n      let ctx = canvas.getContext('2d');\n      ctx.drawImage(img, 0, 0);\n\n      let dataURL = canvas.toDataURL('image/png');\n\n      return dataURL.replace(/^data:image\\/(png|jpg);base64,/, '');\n    };\n    let bannerImage = frame;\n    let imgData = getBase64Image(bannerImage);\n    localStorage.setItem('imgData', imgData);\n    localStorage.setItem('canvas', canvas.toDataURL());\n    this.canvas = localStorage.getItem(canvas);\n  }\n\n  init() {\n    let dataImage = localStorage.getItem('imgData');\n    let framesList = document.getElementById('frames');\n    let img = document.createElement('img');\n    img.src = `data:image/png;base64,${dataImage}`;\n    framesList.appendChild(img);\n    console.log(img);\n  }\n}\n","/* eslint-disable quotes */\n/* eslint-disable class-methods-use-this */\n/* eslint-disable padded-blocks */\n/* eslint-disable no-unused-vars */\n\nexport default class MainView {\n  constructor(preview) {\n    this.preview = preview;\n    this.frameTarget = document.querySelector('#frames');\n    this.coordinatesTarget = document.querySelector('#canvas-coordinates');\n    this.gifTarget = document.querySelector('.images');\n  }\n\n  dataToImage(canvas) {\n    const dataUrl = canvas.toDataURL();\n    const imageFoo = document.createElement('img');\n    imageFoo.src = dataUrl;\n    imageFoo.style.width = '100px';\n    imageFoo.style.height = '100px';\n    return imageFoo;\n  }\n\n  render(imageFoo) {\n    const frame = document.createElement('div');\n    frame.style.border = '1px solid black';\n    frame.style.marginBottom = '5px';\n    frame.classList.add('frame');\n    frame.appendChild(imageFoo);\n    this.frameTarget.appendChild(frame);\n  }\n\n  renderCoords(dataX, dataY) {\n    // const coordinates = document.querySelector('#canvas-coordinates');\n    // coordinates.classList.add('canvas-coordinates');\n    this.coordinatesTarget.innerHTML = `<p>x:${dataX} y:${dataY}</p>`;\n    // document.querySelector('.canvas-controls').appendChild(coordinates);\n\n  }\n\n  // renderGif(gif) {\n  //   this.gifTarget.appendChild(gif);\n  //   gif.render();\n  //   console.log(gif);\n  // }\n}\n","/* eslint-disable no-var */\n/* eslint-disable no-use-before-define */\n/* eslint-disable object-shorthand */\n/* eslint-disable no-console */\n\nconst getCursorPosition = (canvas, e) => {\n  const rect = canvas.getBoundingClientRect();\n  const x = Math.round((e.clientX - rect.left));\n  const y = Math.round((e.clientY - rect.top));\n  return {\n    x: x,\n    y: y,\n  };\n};\nexport default getCursorPosition;\n","/* eslint-disable vars-on-top */\n/* eslint-disable prefer-arrow-callback */\n/* eslint-disable func-names */\n/* eslint-disable no-multi-assign */\n/* eslint-disable no-plusplus */\n/* eslint-disable function-paren-newline */\n/* eslint-disable no-unused-vars */\n/* eslint-disable class-methods-use-this */\n/* eslint-disable no-console */\nimport getCursorPosition from './CursorPositionController';\nimport GIF from '../../dist/gif';\nimport worker from '../../dist/gif.worker';\nimport download from '../../dist/download';\n\nconst canvas = document.getElementById('canvas');\nconst ctx = canvas.getContext('2d');\n\nexport default class MainController {\n  constructor(MainModel, MainView) {\n    this.mainModel = MainModel;\n    this.appView = MainView;\n\n    // tool-Btns list\n    this.penBtn = document.querySelector('#pen');\n    this.createFrameBtn = document.querySelector('#createFrameBtn');\n    this.eraserBtn = document.querySelector('#eraser');\n    this.lineBtn = document.querySelector('#line');\n    this.cursorColorBtn = document.querySelector('#cursorColor');\n    this.circleBtn = document.querySelector('#circle');\n    this.fillRectagnleBtn = document.querySelector('#fill-rectangle');\n    this.strokeRectangleBtn = document.querySelector('#stroke-rectangle');\n    this.fillCircleBtn = document.querySelector('#fill-circle');\n    this.strokeCircleBtn = document.querySelector('#stroke-circle');\n    // size buttons\n    this.btn32 = document.querySelector('#btn32');\n    this.btn64 = document.querySelector('#btn64');\n    this.btn128 = document.querySelector('#btn128');\n    // fps button\n    this.fpsBtn = document.querySelector('#fps-btn');\n    // Size listeners\n    this.btn32.addEventListener('click', () => {\n      canvas.width = 32;\n      canvas.height = 32;\n      this.mainModel.setSizeModificator(20);\n    });\n    this.btn64.addEventListener('click', () => {\n      canvas.width = 64;\n      canvas.height = 64;\n      this.mainModel.setSizeModificator(10);\n    });\n    this.btn128.addEventListener('click', () => {\n      canvas.width = 128;\n      canvas.height = 128;\n      this.mainModel.setSizeModificator(5);\n    });\n    // fps listener\n    this.fpsBtn.addEventListener('change', (e) => {\n      e.preventDefault();\n      this.mainModel.setFps(this.fpsBtn.value);\n    });\n    /* */\n\n    // show coordinates func\n    canvas.addEventListener('mousemove', (e) => {\n      this.appView.renderCoords(\n        Math.floor(getCursorPosition(canvas, e).x / this.getSize()),\n        Math.floor(getCursorPosition(canvas, e).y / this.getSize()));\n    });\n    // list of keypress events\n    document.addEventListener('keypress', (event) => {\n      if (event.key === 'q') {\n        this.mainModel.setState('pen');\n        this.pen();\n      }\n\n      if (event.key === 'e') {\n        this.mainModel.setState('drawLine');\n        this.drawLine();\n      }\n      if (event.key === 'r') {\n        this.mainModel.setState('fillRectangle');\n        this.fillRectangle();\n      }\n      if (event.key === 'r') {\n        this.mainModel.setState('fillRectangle');\n        this.fillRectangle();\n      }\n      if (event.key === 't') {\n        this.mainModel.setState('strokeRectangle');\n        this.strokeRectangle();\n      }\n      if (event.key === 'y') {\n        this.mainModel.setState('fillCircle');\n        this.fillCircle();\n      }\n      if (event.key === 'u') {\n        this.mainModel.setState('strokeCircle');\n        this.strokeCircle();\n      }\n      if (event.key === 'z') {\n        this.mainModel.setState('erase');\n        this.erase();\n      }\n    });\n\n    // Tools listeners list\n\n    // Pen\n    this.penBtn.addEventListener('click', () => {\n      this.mainModel.setState('pen');\n      this.pen();\n    });\n    // Eraser\n    this.eraserBtn.addEventListener('click', () => {\n      this.mainModel.setState('erase');\n      this.erase();\n    });\n    // Strait line\n    this.lineBtn.addEventListener('click', () => {\n      this.mainModel.setState('drawLine');\n      this.drawLine();\n    });\n    // Fill Rectangle\n    this.fillRectagnleBtn.addEventListener('click', () => {\n      this.mainModel.setState('fillRectangle');\n      this.fillRectangle();\n    });\n    // Stroke Rectangle\n    this.strokeRectangleBtn.addEventListener('click', () => {\n      this.mainModel.setState('strokeRectangle');\n      this.strokeRectangle();\n    });\n    // Fill Circle\n    this.fillCircleBtn.addEventListener('click', () => {\n      this.mainModel.setState('fillCircle');\n      this.fillCircle();\n    });\n    // Stroke Circle\n    this.strokeCircleBtn.addEventListener('click', () => {\n      this.mainModel.setState('strokeCircle');\n      this.strokeCircle();\n    });\n    // Create Frame\n    this.createFrameBtn.addEventListener('click', this.createFrame());\n    // Color Picker\n    this.cursorColorBtn.addEventListener('change', () => {\n      this.mainModel.setCursorColor(this.cursorColorBtn.value);\n      console.log(this.cursorColorBtn.value);\n    });\n  }\n\n  // Shortcut for model size getter\n  getSize() {\n    return this.mainModel.getSizeModificator();\n  }\n\n  pen() {\n    let isMouseDown = false;\n    ctx.beginPath();\n    canvas.addEventListener('mousemove', (e) => {\n      const color = this.mainModel.getCursorColor();\n      ctx.fillStyle = color;\n      ctx.strokeStyle = color;\n      if (this.mainModel.state.currentTool === 'pen') {\n        // Listeners for better drawing\n        canvas.addEventListener('mousedown', () => {\n          if (this.mainModel.state.currentTool === 'pen') {\n            isMouseDown = true;\n          }\n        });\n        canvas.addEventListener('mouseup', () => {\n          if (this.mainModel.state.currentTool === 'pen') {\n            isMouseDown = false;\n            ctx.beginPath();\n          }\n        });\n        // draw method\n        if (isMouseDown) {\n          ctx.lineTo(\n            Math.floor(getCursorPosition(canvas, e).x / this.getSize()),\n            Math.floor(getCursorPosition(canvas, e).y / this.getSize()));\n          ctx.stroke();\n          ctx.lineWidth = 1;\n          ctx.beginPath();\n          ctx.moveTo(\n            Math.floor(getCursorPosition(canvas, e).x / this.getSize()),\n            Math.floor(getCursorPosition(canvas, e).y / this.getSize()));\n        }\n      } else {\n        canvas.removeEventListener('mousemove', this);\n        canvas.removeEventListener('mousedown', this);\n        canvas.removeEventListener('mouseup', this);\n      }\n    });\n  }\n\n  drawLine() {\n    canvas.addEventListener('mousedown', (e) => {\n      if (this.mainModel.state.currentTool === 'drawLine') {\n        ctx.beginPath();\n        ctx.moveTo(\n          getCursorPosition(canvas, e).x / this.getSize(),\n          getCursorPosition(canvas, e).y / this.getSize());\n      }\n    });\n    canvas.addEventListener('mouseup', (e) => {\n      if (this.mainModel.state.currentTool === 'drawLine') {\n        const color = this.mainModel.getCursorColor();\n        ctx.fillStyle = color;\n        ctx.strokeStyle = color;\n        ctx.lineTo(\n          getCursorPosition(canvas, e).x / this.getSize(),\n          getCursorPosition(canvas, e).y / this.getSize());\n        ctx.lineWidth = 1;\n        // set line color\n        ctx.strokeStyle = color;\n        ctx.stroke();\n        ctx.beginPath();\n      }\n    });\n  }\n\n  erase() {\n    canvas.addEventListener('mousemove', (e) => {\n      if (this.mainModel.state.currentTool === 'erase') {\n        ctx.fillStyle = '#fff';\n        ctx.beginPath();\n        ctx.rect(\n          getCursorPosition(canvas, e).x / this.getSize(),\n          getCursorPosition(canvas, e).y / this.getSize(), 5, 5);\n        ctx.fill();\n      }\n    });\n  }\n\n  fillRectangle() {\n    let lastMouseX;\n    let lastMouseY;\n    let mouseDown;\n    let mouseX;\n    let mouseY;\n    lastMouseX = lastMouseY = 0;\n    mouseX = mouseY = 0;\n    mouseDown = false;\n    ctx.beginPath();\n    // Mousedown\n    canvas.addEventListener('mousedown', (e) => {\n      if (this.mainModel.state.currentTool === 'fillRectangle') {\n        lastMouseX = Math.floor(getCursorPosition(canvas, e).x / this.getSize());\n        lastMouseY = Math.floor(getCursorPosition(canvas, e).y / this.getSize());\n        mouseDown = true;\n      }\n    });\n    // MouseUP\n    canvas.addEventListener('mouseup', (e) => {\n      if (this.mainModel.state.currentTool === 'fillRectangle') {\n        mouseDown = false;\n        ctx.beginPath();\n      }\n    });\n    // MouseMove\n    canvas.addEventListener('mousemove', (e) => {\n      if (this.mainModel.state.currentTool === 'fillRectangle') {\n        mouseX = Math.floor(getCursorPosition(canvas, e).x / this.getSize());\n        mouseY = Math.floor(getCursorPosition(canvas, e).y / this.getSize());\n        if (mouseDown) {\n          // ctx.clearRect(0, 0, canvas.width, canvas.height);\n          ctx.beginPath();\n          const width = mouseX - lastMouseX;\n          const height = mouseY - lastMouseY;\n          ctx.rect(lastMouseX, lastMouseY, width, height);\n          ctx.fillStyle = this.mainModel.getCursorColor();\n          ctx.lineWidth = 1;\n          ctx.fill();\n        }\n      }\n    });\n  }\n\n  strokeRectangle() {\n    let lastMouseX;\n    let lastMouseY;\n    let mouseDown;\n    let mouseX;\n    let mouseY;\n    lastMouseX = lastMouseY = 0;\n    mouseX = mouseY = 0;\n    mouseDown = false;\n    ctx.beginPath();\n    // Mousedown\n    canvas.addEventListener('mousedown', (e) => {\n      if (this.mainModel.state.currentTool === 'strokeRectangle') {\n        lastMouseX = Math.floor(getCursorPosition(canvas, e).x / this.getSize());\n        lastMouseY = Math.floor(getCursorPosition(canvas, e).y / this.getSize());\n        mouseDown = true;\n      }\n    });\n    // MouseUP\n    canvas.addEventListener('mouseup', (e) => {\n      if (this.mainModel.state.currentTool === 'strokeRectangle') {\n        mouseDown = false;\n        ctx.fillStyle = '#fff';\n        ctx.fill();\n        ctx.beginPath();\n      }\n    });\n    // MouseMove\n    canvas.addEventListener('mousemove', (e) => {\n      if (this.mainModel.state.currentTool === 'strokeRectangle') {\n        mouseX = Math.floor(getCursorPosition(canvas, e).x / this.getSize());\n        mouseY = Math.floor(getCursorPosition(canvas, e).y / this.getSize());\n        if (mouseDown) {\n          const width = mouseX - lastMouseX;\n          const height = mouseY - lastMouseY;\n          ctx.rect(lastMouseX, lastMouseY, width, height);\n          ctx.strokeStyle = this.mainModel.getCursorColor();\n          ctx.lineWidth = 1;\n          ctx.stroke();\n        }\n      }\n    });\n  }\n\n  fillCircle() {\n    let lastMouseX;\n    let lastMouseY;\n    let mouseDown;\n    let mouseX;\n    let mouseY;\n    lastMouseX = lastMouseY = 0;\n    mouseX = mouseY = 0;\n    mouseDown = false;\n    ctx.beginPath();\n    // Mousedown\n    canvas.addEventListener('mousedown', (e) => {\n      if (this.mainModel.state.currentTool === 'fillCircle') {\n        lastMouseX = Math.floor(getCursorPosition(canvas, e).x / this.getSize());\n        lastMouseY = Math.floor(getCursorPosition(canvas, e).y / this.getSize());\n        mouseDown = true;\n      }\n    });\n    // MouseUP\n    canvas.addEventListener('mouseup', (e) => {\n      if (this.mainModel.state.currentTool === 'fillCircle') {\n        mouseDown = false;\n        ctx.beginPath();\n      }\n    });\n    // MouseMove\n    canvas.addEventListener('mousemove', (e) => {\n      if (this.mainModel.state.currentTool === 'fillCircle') {\n        mouseX = Math.floor(getCursorPosition(canvas, e).x / this.getSize());\n        mouseY = Math.floor(getCursorPosition(canvas, e).y / this.getSize());\n        if (mouseDown) {\n          // ctx.clearRect(0, 0, canvas.width, canvas.height);\n          ctx.beginPath();\n          // eslint-disable-next-line radix\n          const radious = parseInt((mouseX - lastMouseX) - (mouseY - lastMouseY) / 2);\n          ctx.arc(lastMouseX, lastMouseY, Math.abs(radious), 0, 2 * Math.PI);\n          ctx.fillStyle = this.mainModel.getCursorColor();\n          ctx.lineWidth = 1;\n          ctx.fill();\n        }\n      }\n    });\n  }\n\n  strokeCircle() {\n    let lastMouseX;\n    let lastMouseY;\n    let mouseDown;\n    let mouseX;\n    let mouseY;\n    lastMouseX = lastMouseY = 0;\n    mouseX = mouseY = 0;\n    mouseDown = false;\n    ctx.beginPath();\n    // Mousedown\n    canvas.addEventListener('mousedown', (e) => {\n      if (this.mainModel.state.currentTool === 'strokeCircle') {\n        lastMouseX = Math.floor(getCursorPosition(canvas, e).x / this.getSize());\n        lastMouseY = Math.floor(getCursorPosition(canvas, e).y / this.getSize());\n        mouseDown = true;\n      }\n    });\n    // MouseUP\n    canvas.addEventListener('mouseup', (e) => {\n      if (this.mainModel.state.currentTool === 'strokeCircle') {\n        mouseDown = false;\n        ctx.fillStyle = '#fff';\n        ctx.fill();\n        ctx.beginPath();\n      }\n    });\n    // MouseMove\n    canvas.addEventListener('mousemove', (e) => {\n      if (this.mainModel.state.currentTool === 'strokeCircle') {\n        mouseX = Math.floor(getCursorPosition(canvas, e).x / this.getSize());\n        mouseY = Math.floor(getCursorPosition(canvas, e).y / this.getSize());\n        if (mouseDown) {\n          ctx.beginPath();\n          // eslint-disable-next-line radix\n          const radious = parseInt((mouseX - lastMouseX) - (mouseY - lastMouseY) / 2);\n          ctx.arc(lastMouseX, lastMouseY, Math.abs(radious), 0, 2 * Math.PI);\n          ctx.strokeStyle = this.mainModel.getCursorColor();\n          ctx.lineWidth = 1;\n          ctx.stroke();\n        }\n      }\n    });\n  }\n\n  createFrame() {\n    const target = document.getElementById('animation');\n    // eslint-disable-next-line no-var\n\n    let count = 0;\n    const startAnimation = () => {\n      // eslint-disable-next-line no-use-before-define\n      clearInterval(animationTimer);\n      const frames = this.mainModel.getFrames();\n      const singleFrame = frames[count];\n      if (count < frames.length) {\n        target.innerHTML = `<img src=\"${singleFrame.src}\"></img>`;\n        count++;\n      } else {\n        count = 0;\n      }\n      // eslint-disable-next-line no-use-before-define\n      animationTimer = setInterval(startAnimation, (1000 / this.mainModel.getFps()));\n    };\n    let animationTimer = setInterval(startAnimation, (1000 / this.mainModel.getFps()));\n    const createBtn = document.querySelector('#createFrameBtn');\n    createBtn.addEventListener('mouseup', (e) => {\n      e.preventDefault();\n      const frame = this.appView.dataToImage(canvas);\n      this.appView.render(frame);\n      // this.mainModel.localStorage().getBase64Image(canvas);\n      this.mainModel.setFrames(frame);\n      this.mainModel.getFrames();\n\n      // eslint-disable-next-line vars-on-top\n      // eslint-disable-next-line no-var\n      // var gif = new GIF({\n      //   workers: 2,\n      //   quality: 2,\n      // });\n      // gif.addFrame(frame);\n      // let target = document.querySelector('render');\n      // gif.on('finished', function (blob) {\n      //   window.open(URL.createObjectURL(blob));\n      // });\n      // gif.render(frame);\n      // // download(\"data:image/gif;base64, frame\",  \"dlDataUrlBin.png\", \"image/gif\");\n    });\n  }\n}\n","/* eslint-disable no-plusplus */\n/* eslint-disable no-unused-vars */\nimport App from './app';\n\nconst app = new App();\napp.start();\n","\n/* eslint-disable class-methods-use-this */\n\n/* eslint-disable no-unused-vars */\nimport MainModel from './models/MainModel';\nimport MainView from './views/MainView';\nimport MainController from './controllers/MainController';\n\nexport default class App {\n  start() {\n    // login\n    const mainModel = new MainModel();\n    mainModel.init();\n    const mainView = new MainView();\n    const mainController = new MainController(mainModel, mainView);\n  }\n}\n"],"sourceRoot":""}