{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./dist/download.js","webpack:///./node_modules/gif.js/dist/gif.js","webpack:///./src/models/MainModel.js","webpack:///./src/views/MainView.js","webpack:///./src/controllers/CursorPositionController.js","webpack:///./src/controllers/MainController.js","webpack:///./src/index.js","webpack:///./src/app.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","define","undefined","download","data","strFileName","strMimeType","blob","reader","self","window","defaultMime","mimeType","payload","url","anchor","document","createElement","toString","a","String","myBlob","Blob","MozBlob","WebKitBlob","fileName","this","length","split","pop","href","indexOf","ajax","XMLHttpRequest","open","responseType","onload","e","target","response","setTimeout","send","test","navigator","msSaveBlob","dataUrlToBlob","saver","type","tempUiArr","Uint8Array","mx","charCodeAt","strUrl","parts","indexDecoder","decoder","atob","decodeURIComponent","binData","uiArr","winMode","setAttribute","className","innerHTML","style","display","addEventListener","stopPropagation","removeEventListener","arguments","callee","body","appendChild","click","removeChild","URL","revokeObjectURL","userAgent","replace","confirm","location","f","src","createObjectURL","constructor","btoa","y","encodeURIComponent","FileReader","result","readAsDataURL","apply","require","u","Error","code","1","EventEmitter","_events","_maxListeners","isFunction","arg","isObject","isUndefined","defaultMaxListeners","setMaxListeners","isNaN","TypeError","emit","er","handler","len","args","listeners","error","err","context","Array","slice","addListener","listener","newListener","push","warned","console","trace","on","once","fired","g","removeListener","list","position","splice","removeAllListeners","listenerCount","evlistener","emitter","2","UA","browser","platform","ua","toLowerCase","match","documentMode","version","parseFloat","parseInt","3","GIF","hasProp","item","superClass","defaults","frameDefaults","options","base","running","frames","freeWorkers","activeWorkers","setOptions","child","parent","ctor","__super__","extend","workerScript","workers","repeat","background","quality","width","height","transparent","debug","dither","delay","copy","setOption","_canvas","results","addFrame","image","frame","ImageData","CanvasRenderingContext2D","WebGLRenderingContext","getContextData","childNodes","getImageData","render","j","numWorkers","ref","nextFrame","finishedFrames","imageParts","spawnWorkers","globalPalette","renderNextFrame","abort","worker","shift","log","terminate","_this","Math","min","forEach","Worker","onmessage","event","frameFinished","index","finishRendering","k","len1","len2","len3","offset","page","ref1","ref2","pageSize","cursor","round","set","task","getTask","postMessage","ctx","getContext","setFill","fillRect","drawImage","last","canTransfer","./browser.coffee","events","MainModel","database","state","currentTool","cursorColor","sizeModificator","fps","framesArray","setBlob","getBlob","setFps","getFps","setFrames","getFrames","getFramesLength","setState","getState","setCursorColor","color","getCursorColor","setSizeModificator","size","getSizeModificator","localStorage","canvas","imgData","img","toDataURL","getBase64Image","setItem","getItem","init","dataImage","framesList","getElementById","MainView","preview","frameTarget","querySelector","coordinatesTarget","gifTarget","dataToImage","dataUrl","imageFoo","border","marginBottom","classList","add","renderCoords","dataX","dataY","getCursorPosition","rect","getBoundingClientRect","x","clientX","left","clientY","top","MainController","mainModel","appView","animatedGif","penBtn","createFrameBtn","eraserBtn","lineBtn","cursorColorBtn","circleBtn","fillRectagnleBtn","strokeRectangleBtn","fillCircleBtn","strokeCircleBtn","btn32","btn64","btn128","fpsBtn","gifBtn","downloadGifBtn","downloadGif","preventDefault","createGif","floor","getSize","pen","drawLine","fillRectangle","strokeRectangle","fillCircle","strokeCircle","erase","createFrame","isMouseDown","beginPath","fillStyle","strokeStyle","lineTo","stroke","lineWidth","moveTo","fill","lastMouseX","lastMouseY","mouseDown","mouseX","mouseY","radious","arc","abs","PI","count","startAnimation","clearInterval","animationTimer","singleFrame","setInterval","animationTarget","attributes","nodeValue","gif","blob1","blob2","start","mainView"],"mappings":"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","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","//download.js v4.21, by dandavis; 2008-2018. [MIT] see http://danml.com/download.html for tests/usage\n// v1 landed a FF+Chrome compatible way of downloading strings to local un-named files, upgraded to use a hidden frame and optional mime\n// v2 added named files via a[download], msSaveBlob, IE (10+) support, and window.URL support for larger+faster saves than dataURLs\n// v3 added dataURL and Blob Input, bind-toggle arity, and legacy dataURL fallback was improved with force-download mime and base64 support. 3.1 improved safari handling.\n// v4 adds AMD/UMD, commonJS, and plain browser support\n// v4.1 adds url download capability via solo URL argument (same domain/CORS only)\n// v4.2 adds semantic variable names, long (over 2MB) dataURL support, and hidden by default temp anchors\n// https://github.com/rndme/download\n\n(function (root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([], factory);\n\t} else if (typeof exports === 'object') {\n\t\t// Node. Does not work with strict CommonJS, but\n\t\t// only CommonJS-like environments that support module.exports,\n\t\t// like Node.\n\t\tmodule.exports = factory();\n\t} else {\n\t\t// Browser globals (root is window)\n\t\troot.download = factory();\n  }\n}(this, function () {\n\n\treturn function download(data, strFileName, strMimeType) {\n\n\t\tvar self = window, // this script is only for browsers anyway...\n\t\t\tdefaultMime = \"application/octet-stream\", // this default mime also triggers iframe downloads\n\t\t\tmimeType = strMimeType || defaultMime,\n\t\t\tpayload = data,\n\t\t\turl = !strFileName && !strMimeType && payload,\n\t\t\tanchor = document.createElement(\"a\"),\n\t\t\ttoString = function(a){return String(a);},\n\t\t\tmyBlob = (self.Blob || self.MozBlob || self.WebKitBlob || toString),\n\t\t\tfileName = strFileName || \"download\",\n\t\t\tblob,\n\t\t\treader;\n\t\t\tmyBlob= myBlob.call ? myBlob.bind(self) : Blob ;\n\t  \n\t\tif(String(this)===\"true\"){ //reverse arguments, allowing download.bind(true, \"text/xml\", \"export.xml\") to act as a callback\n\t\t\tpayload=[payload, mimeType];\n\t\t\tmimeType=payload[0];\n\t\t\tpayload=payload[1];\n\t\t}\n\n\n\t\tif(url && url.length< 2048){ // if no filename and no mime, assume a url was passed as the only argument\n\t\t\tfileName = url.split(\"/\").pop().split(\"?\")[0];\n\t\t\tanchor.href = url; // assign href prop to temp anchor\n\t\t  \tif(anchor.href.indexOf(url) !== -1){ // if the browser determines that it's a potentially valid url path:\n        \t\tvar ajax=new XMLHttpRequest();\n        \t\tajax.open( \"GET\", url, true);\n        \t\tajax.responseType = 'blob';\n        \t\tajax.onload= function(e){ \n\t\t\t\t  download(e.target.response, fileName, defaultMime);\n\t\t\t\t};\n        \t\tsetTimeout(function(){ ajax.send();}, 0); // allows setting custom ajax headers using the return:\n\t\t\t    return ajax;\n\t\t\t} // end if valid url?\n\t\t} // end if url?\n\n\n\t\t//go ahead and download dataURLs right away\n\t\tif(/^data:([\\w+-]+\\/[\\w+.-]+)?[,;]/.test(payload)){\n\t\t\n\t\t\tif(payload.length > (1024*1024*1.999) && myBlob !== toString ){\n\t\t\t\tpayload=dataUrlToBlob(payload);\n\t\t\t\tmimeType=payload.type || defaultMime;\n\t\t\t}else{\t\t\t\n\t\t\t\treturn navigator.msSaveBlob ?  // IE10 can't do a[download], only Blobs:\n\t\t\t\t\tnavigator.msSaveBlob(dataUrlToBlob(payload), fileName) :\n\t\t\t\t\tsaver(payload) ; // everyone else can save dataURLs un-processed\n\t\t\t}\n\t\t\t\n\t\t}else{//not data url, is it a string with special needs?\n\t\t\tif(/([\\x80-\\xff])/.test(payload)){\t\t\t  \n\t\t\t\tvar i=0, tempUiArr= new Uint8Array(payload.length), mx=tempUiArr.length;\n\t\t\t\tfor(i;i<mx;++i) tempUiArr[i]= payload.charCodeAt(i);\n\t\t\t \tpayload=new myBlob([tempUiArr], {type: mimeType});\n\t\t\t}\t\t  \n\t\t}\n\t\tblob = payload instanceof myBlob ?\n\t\t\tpayload :\n\t\t\tnew myBlob([payload], {type: mimeType}) ;\n\n\n\t\tfunction dataUrlToBlob(strUrl) {\n\t\t\tvar parts= strUrl.split(/[:;,]/),\n\t\t\ttype= parts[1],\n\t\t\tindexDecoder = strUrl.indexOf(\"charset\")>0 ? 3: 2,\n\t\t\tdecoder= parts[indexDecoder] == \"base64\" ? atob : decodeURIComponent,\n\t\t\tbinData= decoder( parts.pop() ),\n\t\t\tmx= binData.length,\n\t\t\ti= 0,\n\t\t\tuiArr= new Uint8Array(mx);\n\n\t\t\tfor(i;i<mx;++i) uiArr[i]= binData.charCodeAt(i);\n\n\t\t\treturn new myBlob([uiArr], {type: type});\n\t\t }\n\n\t\tfunction saver(url, winMode){\n\n\t\t\tif ('download' in anchor) { //html5 A[download]\n\t\t\t\tanchor.href = url;\n\t\t\t\tanchor.setAttribute(\"download\", fileName);\n\t\t\t\tanchor.className = \"download-js-link\";\n\t\t\t\tanchor.innerHTML = \"downloading...\";\n\t\t\t\tanchor.style.display = \"none\";\n \t\t\t\tanchor.addEventListener('click', function(e) {\n \t\t\t\t\te.stopPropagation();\n \t\t\t\t\tthis.removeEventListener('click', arguments.callee);\n \t\t\t\t});\n\t\t\t\tdocument.body.appendChild(anchor);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tanchor.click();\n\t\t\t\t\tdocument.body.removeChild(anchor);\n\t\t\t\t\tif(winMode===true){setTimeout(function(){ self.URL.revokeObjectURL(anchor.href);}, 250 );}\n\t\t\t\t}, 66);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// handle non-a[download] safari as best we can:\n\t\t\tif(/(Version)\\/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari\\//.test(navigator.userAgent)) {\n\t\t\t\tif(/^data:/.test(url))\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t\tif(!window.open(url)){ // popup blocked, offer direct download:\n\t\t\t\t\tif(confirm(\"Displaying New Document\\n\\nUse Save As... to download, then click back to return to this page.\")){ location.href=url; }\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t//do iframe dataURL download (old ch+FF):\n\t\t\tvar f = document.createElement(\"iframe\");\n\t\t\tdocument.body.appendChild(f);\n\n\t\t\tif(!winMode && /^data:/.test(url)){ // force a mime that will download:\n\t\t\t\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t}\n\t\t\tf.src=url;\n\t\t\tsetTimeout(function(){ document.body.removeChild(f); }, 333);\n\n\t\t}//end saver\n\n\n\n\n\t\tif (navigator.msSaveBlob) { // IE10+ : (has Blob, but not a[download] or URL)\n\t\t\treturn navigator.msSaveBlob(blob, fileName);\n\t\t}\n\n\t\tif(self.URL){ // simple fast and modern way using Blob and URL:\n\t\t\tsaver(self.URL.createObjectURL(blob), true);\n\t\t}else{\n\t\t\t// handle non-Blob()+non-URL browsers:\n\t\t\tif(typeof blob === \"string\" || blob.constructor===toString ){\n\t\t\t\ttry{\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \";base64,\"  +  self.btoa(blob)  );\n\t\t\t\t}catch(y){\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \",\" + encodeURIComponent(blob)  );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Blob but not URL support:\n\t\t\treader=new FileReader();\n\t\t\treader.onload=function(e){\n\t\t\t\tsaver(this.result);\n\t\t\t};\n\t\t\treader.readAsDataURL(blob);\n\t\t}\n\t\treturn true;\n\t}; /* end download() */\n}));\n","// gif.js 0.2.0 - https://github.com/jnordberg/gif.js\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.GIF=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){function EventEmitter(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}module.exports=EventEmitter;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=undefined;EventEmitter.prototype._maxListeners=undefined;EventEmitter.defaultMaxListeners=10;EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||n<0||isNaN(n))throw TypeError(\"n must be a positive number\");this._maxListeners=n;return this};EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(!this._events)this._events={};if(type===\"error\"){if(!this._events.error||isObject(this._events.error)&&!this._events.error.length){er=arguments[1];if(er instanceof Error){throw er}else{var err=new Error('Uncaught, unspecified \"error\" event. ('+er+\")\");err.context=er;throw err}}}handler=this._events[type];if(isUndefined(handler))return false;if(isFunction(handler)){switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:args=Array.prototype.slice.call(arguments,1);handler.apply(this,args)}}else if(isObject(handler)){args=Array.prototype.slice.call(arguments,1);listeners=handler.slice();len=listeners.length;for(i=0;i<len;i++)listeners[i].apply(this,args)}return true};EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError(\"listener must be a function\");if(!this._events)this._events={};if(this._events.newListener)this.emit(\"newListener\",type,isFunction(listener.listener)?listener.listener:listener);if(!this._events[type])this._events[type]=listener;else if(isObject(this._events[type]))this._events[type].push(listener);else this._events[type]=[this._events[type],listener];if(isObject(this._events[type])&&!this._events[type].warned){if(!isUndefined(this._maxListeners)){m=this._maxListeners}else{m=EventEmitter.defaultMaxListeners}if(m&&m>0&&this._events[type].length>m){this._events[type].warned=true;console.error(\"(node) warning: possible EventEmitter memory \"+\"leak detected. %d listeners added. \"+\"Use emitter.setMaxListeners() to increase limit.\",this._events[type].length);if(typeof console.trace===\"function\"){console.trace()}}}return this};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.once=function(type,listener){if(!isFunction(listener))throw TypeError(\"listener must be a function\");var fired=false;function g(){this.removeListener(type,g);if(!fired){fired=true;listener.apply(this,arguments)}}g.listener=listener;this.on(type,g);return this};EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError(\"listener must be a function\");if(!this._events||!this._events[type])return this;list=this._events[type];length=list.length;position=-1;if(list===listener||isFunction(list.listener)&&list.listener===listener){delete this._events[type];if(this._events.removeListener)this.emit(\"removeListener\",type,listener)}else if(isObject(list)){for(i=length;i-- >0;){if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}}if(position<0)return this;if(list.length===1){list.length=0;delete this._events[type]}else{list.splice(position,1)}if(this._events.removeListener)this.emit(\"removeListener\",type,listener)}return this};EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[type])delete this._events[type];return this}if(arguments.length===0){for(key in this._events){if(key===\"removeListener\")continue;this.removeAllListeners(key)}this.removeAllListeners(\"removeListener\");this._events={};return this}listeners=this._events[type];if(isFunction(listeners)){this.removeListener(type,listeners)}else if(listeners){while(listeners.length)this.removeListener(type,listeners[listeners.length-1])}delete this._events[type];return this};EventEmitter.prototype.listeners=function(type){var ret;if(!this._events||!this._events[type])ret=[];else if(isFunction(this._events[type]))ret=[this._events[type]];else ret=this._events[type].slice();return ret};EventEmitter.prototype.listenerCount=function(type){if(this._events){var evlistener=this._events[type];if(isFunction(evlistener))return 1;else if(evlistener)return evlistener.length}return 0};EventEmitter.listenerCount=function(emitter,type){return emitter.listenerCount(type)};function isFunction(arg){return typeof arg===\"function\"}function isNumber(arg){return typeof arg===\"number\"}function isObject(arg){return typeof arg===\"object\"&&arg!==null}function isUndefined(arg){return arg===void 0}},{}],2:[function(require,module,exports){var UA,browser,mode,platform,ua;ua=navigator.userAgent.toLowerCase();platform=navigator.platform.toLowerCase();UA=ua.match(/(opera|ie|firefox|chrome|version)[\\s\\/:]([\\w\\d\\.]+)?.*?(safari|version[\\s\\/:]([\\w\\d\\.]+)|$)/)||[null,\"unknown\",0];mode=UA[1]===\"ie\"&&document.documentMode;browser={name:UA[1]===\"version\"?UA[3]:UA[1],version:mode||parseFloat(UA[1]===\"opera\"&&UA[4]?UA[4]:UA[2]),platform:{name:ua.match(/ip(?:ad|od|hone)/)?\"ios\":(ua.match(/(?:webos|android)/)||platform.match(/mac|win|linux/)||[\"other\"])[0]}};browser[browser.name]=true;browser[browser.name+parseInt(browser.version,10)]=true;browser.platform[browser.platform.name]=true;module.exports=browser},{}],3:[function(require,module,exports){var EventEmitter,GIF,browser,extend=function(child,parent){for(var key in parent){if(hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child},hasProp={}.hasOwnProperty,indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++){if(i in this&&this[i]===item)return i}return-1},slice=[].slice;EventEmitter=require(\"events\").EventEmitter;browser=require(\"./browser.coffee\");GIF=function(superClass){var defaults,frameDefaults;extend(GIF,superClass);defaults={workerScript:\"gif.worker.js\",workers:2,repeat:0,background:\"#fff\",quality:10,width:null,height:null,transparent:null,debug:false,dither:false};frameDefaults={delay:500,copy:false};function GIF(options){var base,key,value;this.running=false;this.options={};this.frames=[];this.freeWorkers=[];this.activeWorkers=[];this.setOptions(options);for(key in defaults){value=defaults[key];if((base=this.options)[key]==null){base[key]=value}}}GIF.prototype.setOption=function(key,value){this.options[key]=value;if(this._canvas!=null&&(key===\"width\"||key===\"height\")){return this._canvas[key]=value}};GIF.prototype.setOptions=function(options){var key,results,value;results=[];for(key in options){if(!hasProp.call(options,key))continue;value=options[key];results.push(this.setOption(key,value))}return results};GIF.prototype.addFrame=function(image,options){var frame,key;if(options==null){options={}}frame={};frame.transparent=this.options.transparent;for(key in frameDefaults){frame[key]=options[key]||frameDefaults[key]}if(this.options.width==null){this.setOption(\"width\",image.width)}if(this.options.height==null){this.setOption(\"height\",image.height)}if(typeof ImageData!==\"undefined\"&&ImageData!==null&&image instanceof ImageData){frame.data=image.data}else if(typeof CanvasRenderingContext2D!==\"undefined\"&&CanvasRenderingContext2D!==null&&image instanceof CanvasRenderingContext2D||typeof WebGLRenderingContext!==\"undefined\"&&WebGLRenderingContext!==null&&image instanceof WebGLRenderingContext){if(options.copy){frame.data=this.getContextData(image)}else{frame.context=image}}else if(image.childNodes!=null){if(options.copy){frame.data=this.getImageData(image)}else{frame.image=image}}else{throw new Error(\"Invalid image\")}return this.frames.push(frame)};GIF.prototype.render=function(){var i,j,numWorkers,ref;if(this.running){throw new Error(\"Already running\")}if(this.options.width==null||this.options.height==null){throw new Error(\"Width and height must be set prior to rendering\")}this.running=true;this.nextFrame=0;this.finishedFrames=0;this.imageParts=function(){var j,ref,results;results=[];for(i=j=0,ref=this.frames.length;0<=ref?j<ref:j>ref;i=0<=ref?++j:--j){results.push(null)}return results}.call(this);numWorkers=this.spawnWorkers();if(this.options.globalPalette===true){this.renderNextFrame()}else{for(i=j=0,ref=numWorkers;0<=ref?j<ref:j>ref;i=0<=ref?++j:--j){this.renderNextFrame()}}this.emit(\"start\");return this.emit(\"progress\",0)};GIF.prototype.abort=function(){var worker;while(true){worker=this.activeWorkers.shift();if(worker==null){break}this.log(\"killing active worker\");worker.terminate()}this.running=false;return this.emit(\"abort\")};GIF.prototype.spawnWorkers=function(){var j,numWorkers,ref,results;numWorkers=Math.min(this.options.workers,this.frames.length);(function(){results=[];for(var j=ref=this.freeWorkers.length;ref<=numWorkers?j<numWorkers:j>numWorkers;ref<=numWorkers?j++:j--){results.push(j)}return results}).apply(this).forEach(function(_this){return function(i){var worker;_this.log(\"spawning worker \"+i);worker=new Worker(_this.options.workerScript);worker.onmessage=function(event){_this.activeWorkers.splice(_this.activeWorkers.indexOf(worker),1);_this.freeWorkers.push(worker);return _this.frameFinished(event.data)};return _this.freeWorkers.push(worker)}}(this));return numWorkers};GIF.prototype.frameFinished=function(frame){var i,j,ref;this.log(\"frame \"+frame.index+\" finished - \"+this.activeWorkers.length+\" active\");this.finishedFrames++;this.emit(\"progress\",this.finishedFrames/this.frames.length);this.imageParts[frame.index]=frame;if(this.options.globalPalette===true){this.options.globalPalette=frame.globalPalette;this.log(\"global palette analyzed\");if(this.frames.length>2){for(i=j=1,ref=this.freeWorkers.length;1<=ref?j<ref:j>ref;i=1<=ref?++j:--j){this.renderNextFrame()}}}if(indexOf.call(this.imageParts,null)>=0){return this.renderNextFrame()}else{return this.finishRendering()}};GIF.prototype.finishRendering=function(){var data,frame,i,image,j,k,l,len,len1,len2,len3,offset,page,ref,ref1,ref2;len=0;ref=this.imageParts;for(j=0,len1=ref.length;j<len1;j++){frame=ref[j];len+=(frame.data.length-1)*frame.pageSize+frame.cursor}len+=frame.pageSize-frame.cursor;this.log(\"rendering finished - filesize \"+Math.round(len/1e3)+\"kb\");data=new Uint8Array(len);offset=0;ref1=this.imageParts;for(k=0,len2=ref1.length;k<len2;k++){frame=ref1[k];ref2=frame.data;for(i=l=0,len3=ref2.length;l<len3;i=++l){page=ref2[i];data.set(page,offset);if(i===frame.data.length-1){offset+=frame.cursor}else{offset+=frame.pageSize}}}image=new Blob([data],{type:\"image/gif\"});return this.emit(\"finished\",image,data)};GIF.prototype.renderNextFrame=function(){var frame,task,worker;if(this.freeWorkers.length===0){throw new Error(\"No free workers\")}if(this.nextFrame>=this.frames.length){return}frame=this.frames[this.nextFrame++];worker=this.freeWorkers.shift();task=this.getTask(frame);this.log(\"starting frame \"+(task.index+1)+\" of \"+this.frames.length);this.activeWorkers.push(worker);return worker.postMessage(task)};GIF.prototype.getContextData=function(ctx){return ctx.getImageData(0,0,this.options.width,this.options.height).data};GIF.prototype.getImageData=function(image){var ctx;if(this._canvas==null){this._canvas=document.createElement(\"canvas\");this._canvas.width=this.options.width;this._canvas.height=this.options.height}ctx=this._canvas.getContext(\"2d\");ctx.setFill=this.options.background;ctx.fillRect(0,0,this.options.width,this.options.height);ctx.drawImage(image,0,0);return this.getContextData(ctx)};GIF.prototype.getTask=function(frame){var index,task;index=this.frames.indexOf(frame);task={index:index,last:index===this.frames.length-1,delay:frame.delay,transparent:frame.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,dither:this.options.dither,globalPalette:this.options.globalPalette,repeat:this.options.repeat,canTransfer:browser.name===\"chrome\"};if(frame.data!=null){task.data=frame.data}else if(frame.context!=null){task.data=this.getContextData(frame.context)}else if(frame.image!=null){task.data=this.getImageData(frame.image)}else{throw new Error(\"Invalid frame\")}return task};GIF.prototype.log=function(){var args;args=1<=arguments.length?slice.call(arguments,0):[];if(!this.options.debug){return}return console.log.apply(console,args)};return GIF}(EventEmitter);module.exports=GIF},{\"./browser.coffee\":2,events:1}]},{},[3])(3)});\n//# sourceMappingURL=gif.js.map\n","/* eslint-disable prefer-const */\n/* eslint-disable class-methods-use-this */\n/* eslint-disable no-console */\n/* eslint-disable no-unused-vars */\n/* eslint-disable no-plusplus */\n/* eslint-disable no-unused-vars */\n/* eslint-disable no-new */\nexport default class MainModel {\n  constructor(database, state) {\n    this.database = database;\n    this.state = {\n      currentTool: '',\n    };\n    this.cursorColor = '';\n    this.sizeModificator = 5;\n    this.fps = 10;\n    // eslint-disable-next-line no-array-constructor\n    this.framesArray = [];\n    this.blob = '';\n  }\n  setBlob(blob) {\n    this.blob = blob;\n  }\n  getBlob() {\n    return this.blob;\n  }\n  setFps(fps) {\n    this.fps = fps;\n  }\n\n  getFps() {\n    return this.fps;\n  }\n\n  setFrames(frame) {\n    this.framesArray.push(frame);\n  }\n\n  getFrames() {\n    return this.framesArray;\n  }\n\n  getFramesLength() {\n    return this.framesArray.length;\n  }\n\n  setState(state) {\n    this.state.currentTool = state;\n  }\n\n  getState(state) {\n    console.log(this.state.currentTool);\n    return this.state.currentTool;\n  }\n\n  setCursorColor(color) {\n    this.cursorColor = color;\n  }\n\n  getCursorColor() {\n    return this.cursorColor;\n  }\n\n  setSizeModificator(size) {\n    this.sizeModificator = size;\n  }\n\n  getSizeModificator() {\n    return this.sizeModificator;\n  }\n\n  localStorage(frame, canvas) {\n    // still doesnt work\n    let getBase64Image = (img) => {\n      // eslint-disable-next-line no-shadow\n      let canvas = document.createElement('canvas');\n      canvas.width = 120;\n      canvas.height = 120;\n\n      let ctx = canvas.getContext('2d');\n      ctx.drawImage(img, 0, 0);\n\n      let dataURL = canvas.toDataURL('image/png');\n\n      return dataURL.replace(/^data:image\\/(png|jpg);base64,/, '');\n    };\n    let bannerImage = frame;\n    let imgData = getBase64Image(bannerImage);\n    localStorage.setItem('imgData', imgData);\n    localStorage.setItem('canvas', canvas.toDataURL());\n    this.canvas = localStorage.getItem(canvas);\n  }\n\n  init() {\n    let dataImage = localStorage.getItem('imgData');\n    let framesList = document.getElementById('frames');\n    let img = document.createElement('img');\n    img.src = `data:image/png;base64,${dataImage}`;\n    framesList.appendChild(img);\n    console.log(img);\n  }\n}\n","/* eslint-disable quotes */\n/* eslint-disable class-methods-use-this */\n/* eslint-disable padded-blocks */\n/* eslint-disable no-unused-vars */\n\nexport default class MainView {\n  constructor(preview) {\n    this.preview = preview;\n    this.frameTarget = document.querySelector('#frames');\n    this.coordinatesTarget = document.querySelector('#canvas-coordinates');\n    this.gifTarget = document.querySelector('.images');\n  }\n\n  dataToImage(canvas) {\n    const dataUrl = canvas.toDataURL();\n    const imageFoo = document.createElement('img');\n    imageFoo.src = dataUrl;\n    imageFoo.style.width = '100px';\n    imageFoo.style.height = '100px';\n    return imageFoo;\n  }\n\n  render(imageFoo) {\n    const frame = document.createElement('div');\n    frame.style.border = '1px solid black';\n    frame.style.marginBottom = '5px';\n    frame.classList.add('frame');\n    frame.appendChild(imageFoo);\n    this.frameTarget.appendChild(frame);\n  }\n\n  renderCoords(dataX, dataY) {\n    // const coordinates = document.querySelector('#canvas-coordinates');\n    // coordinates.classList.add('canvas-coordinates');\n    this.coordinatesTarget.innerHTML = `<p>x:${dataX} y:${dataY}</p>`;\n    // document.querySelector('.canvas-controls').appendChild(coordinates);\n\n  }\n\n  // renderGif(gif) {\n  //   this.gifTarget.appendChild(gif);\n  //   gif.render();\n  //   console.log(gif);\n  // }\n}\n","/* eslint-disable no-var */\n/* eslint-disable no-use-before-define */\n/* eslint-disable object-shorthand */\n/* eslint-disable no-console */\n\nconst getCursorPosition = (canvas, e) => {\n  const rect = canvas.getBoundingClientRect();\n  const x = Math.round((e.clientX - rect.left));\n  const y = Math.round((e.clientY - rect.top));\n  return {\n    x: x,\n    y: y,\n  };\n};\nexport default getCursorPosition;\n","/* eslint-disable vars-on-top */\n/* eslint-disable prefer-arrow-callback */\n/* eslint-disable func-names */\n/* eslint-disable no-multi-assign */\n/* eslint-disable no-plusplus */\n/* eslint-disable function-paren-newline */\n/* eslint-disable no-unused-vars */\n/* eslint-disable class-methods-use-this */\n/* eslint-disable no-console */\nimport getCursorPosition from './CursorPositionController';\nimport GIF from 'gif.js';\nimport download from '../../dist/download'\n\nconst canvas = document.getElementById('canvas');\nconst ctx = canvas.getContext('2d');\n\nexport default class MainController {\n  constructor(MainModel, MainView) {\n    this.mainModel = MainModel;\n    this.appView = MainView;\n\n    // tool-Btns list\n    this.animatedGif = document.querySelector('#anima');\n    this.penBtn = document.querySelector('#pen');\n    this.createFrameBtn = document.querySelector('#createFrameBtn');\n    this.eraserBtn = document.querySelector('#eraser');\n    this.lineBtn = document.querySelector('#line');\n    this.cursorColorBtn = document.querySelector('#cursorColor');\n    this.circleBtn = document.querySelector('#circle');\n    this.fillRectagnleBtn = document.querySelector('#fill-rectangle');\n    this.strokeRectangleBtn = document.querySelector('#stroke-rectangle');\n    this.fillCircleBtn = document.querySelector('#fill-circle');\n    this.strokeCircleBtn = document.querySelector('#stroke-circle');\n    // size buttons\n    this.btn32 = document.querySelector('#btn32');\n    this.btn64 = document.querySelector('#btn64');\n    this.btn128 = document.querySelector('#btn128');\n    // fps button\n    this.fpsBtn = document.querySelector('#fps-btn');\n    // gif btn\n    this.gifBtn = document.querySelector('.create-gif');\n    this.downloadGifBtn = document.querySelector('.download-gif');\n    this.downloadGifBtn.addEventListener('click', () => {\n      this.downloadGif();\n    })\n    // Size listeners\n    this.btn32.addEventListener('click', () => {\n      canvas.width = 32;\n      canvas.height = 32;\n      this.mainModel.setSizeModificator(20);\n    });\n    this.btn64.addEventListener('click', () => {\n      canvas.width = 64;\n      canvas.height = 64;\n      this.mainModel.setSizeModificator(10);\n    });\n    this.btn128.addEventListener('click', () => {\n      canvas.width = 128;\n      canvas.height = 128;\n      this.mainModel.setSizeModificator(5);\n    });\n    // fps listener\n    this.fpsBtn.addEventListener('change', (e) => {\n      e.preventDefault();\n      this.mainModel.setFps(this.fpsBtn.value);\n    });\n    // create-gif listener\n    this.gifBtn.addEventListener('click', (e) => {\n      e.preventDefault();\n      this.createGif();\n    })\n    /* */\n\n    // show coordinates func\n    canvas.addEventListener('mousemove', (e) => {\n      this.appView.renderCoords(\n        Math.floor(getCursorPosition(canvas, e).x / this.getSize()),\n        Math.floor(getCursorPosition(canvas, e).y / this.getSize()));\n    });\n    // list of keypress events\n    document.addEventListener('keypress', (event) => {\n      if (event.key === 'q') {\n        this.mainModel.setState('pen');\n        this.pen();\n      }\n\n      if (event.key === 'e') {\n        this.mainModel.setState('drawLine');\n        this.drawLine();\n      }\n      if (event.key === 'r') {\n        this.mainModel.setState('fillRectangle');\n        this.fillRectangle();\n      }\n      if (event.key === 'r') {\n        this.mainModel.setState('fillRectangle');\n        this.fillRectangle();\n      }\n      if (event.key === 't') {\n        this.mainModel.setState('strokeRectangle');\n        this.strokeRectangle();\n      }\n      if (event.key === 'y') {\n        this.mainModel.setState('fillCircle');\n        this.fillCircle();\n      }\n      if (event.key === 'u') {\n        this.mainModel.setState('strokeCircle');\n        this.strokeCircle();\n      }\n      if (event.key === 'z') {\n        this.mainModel.setState('erase');\n        this.erase();\n      }\n    });\n\n    // Tools listeners list\n\n    // Pen\n    this.penBtn.addEventListener('click', () => {\n      this.mainModel.setState('pen');\n      this.pen();\n    });\n    // Eraser\n    this.eraserBtn.addEventListener('click', () => {\n      this.mainModel.setState('erase');\n      this.erase();\n    });\n    // Strait line\n    this.lineBtn.addEventListener('click', () => {\n      this.mainModel.setState('drawLine');\n      this.drawLine();\n    });\n    // Fill Rectangle\n    this.fillRectagnleBtn.addEventListener('click', () => {\n      this.mainModel.setState('fillRectangle');\n      this.fillRectangle();\n    });\n    // Stroke Rectangle\n    this.strokeRectangleBtn.addEventListener('click', () => {\n      this.mainModel.setState('strokeRectangle');\n      this.strokeRectangle();\n    });\n    // Fill Circle\n    this.fillCircleBtn.addEventListener('click', () => {\n      this.mainModel.setState('fillCircle');\n      this.fillCircle();\n    });\n    // Stroke Circle\n    this.strokeCircleBtn.addEventListener('click', () => {\n      this.mainModel.setState('strokeCircle');\n      this.strokeCircle();\n    });\n    // Create Frame\n    this.createFrameBtn.addEventListener('click', this.createFrame());\n    // Color Picker\n    this.cursorColorBtn.addEventListener('change', () => {\n      this.mainModel.setCursorColor(this.cursorColorBtn.value);\n      console.log(this.cursorColorBtn.value);\n    });\n  }\n\n  // Shortcut for model size getter\n  getSize() {\n    return this.mainModel.getSizeModificator();\n  }\n\n  pen() {\n    let isMouseDown = false;\n    ctx.beginPath();\n    canvas.addEventListener('mousemove', (e) => {\n      const color = this.mainModel.getCursorColor();\n      ctx.fillStyle = color;\n      ctx.strokeStyle = color;\n      if (this.mainModel.state.currentTool === 'pen') {\n        // Listeners for better drawing\n        canvas.addEventListener('mousedown', () => {\n          if (this.mainModel.state.currentTool === 'pen') {\n            isMouseDown = true;\n          }\n        });\n        canvas.addEventListener('mouseup', () => {\n          if (this.mainModel.state.currentTool === 'pen') {\n            isMouseDown = false;\n            ctx.beginPath();\n          }\n        });\n        // draw method\n        if (isMouseDown) {\n          ctx.lineTo(\n            Math.floor(getCursorPosition(canvas, e).x / this.getSize()),\n            Math.floor(getCursorPosition(canvas, e).y / this.getSize()));\n          ctx.stroke();\n          ctx.lineWidth = 1;\n          ctx.beginPath();\n          ctx.moveTo(\n            Math.floor(getCursorPosition(canvas, e).x / this.getSize()),\n            Math.floor(getCursorPosition(canvas, e).y / this.getSize()));\n        }\n      } else {\n        canvas.removeEventListener('mousemove', this);\n        canvas.removeEventListener('mousedown', this);\n        canvas.removeEventListener('mouseup', this);\n      }\n    });\n  }\n\n  drawLine() {\n    canvas.addEventListener('mousedown', (e) => {\n      if (this.mainModel.state.currentTool === 'drawLine') {\n        ctx.beginPath();\n        ctx.moveTo(\n          getCursorPosition(canvas, e).x / this.getSize(),\n          getCursorPosition(canvas, e).y / this.getSize());\n      }\n    });\n    canvas.addEventListener('mouseup', (e) => {\n      if (this.mainModel.state.currentTool === 'drawLine') {\n        const color = this.mainModel.getCursorColor();\n        ctx.fillStyle = color;\n        ctx.strokeStyle = color;\n        ctx.lineTo(\n          getCursorPosition(canvas, e).x / this.getSize(),\n          getCursorPosition(canvas, e).y / this.getSize());\n        ctx.lineWidth = 1;\n        // set line color\n        ctx.strokeStyle = color;\n        ctx.stroke();\n        ctx.beginPath();\n      }\n    });\n  }\n\n  erase() {\n    canvas.addEventListener('mousemove', (e) => {\n      if (this.mainModel.state.currentTool === 'erase') {\n        ctx.fillStyle = '#fff';\n        ctx.beginPath();\n        ctx.rect(\n          getCursorPosition(canvas, e).x / this.getSize(),\n          getCursorPosition(canvas, e).y / this.getSize(), 5, 5);\n        ctx.fill();\n      }\n    });\n  }\n\n  fillRectangle() {\n    let lastMouseX;\n    let lastMouseY;\n    let mouseDown;\n    let mouseX;\n    let mouseY;\n    lastMouseX = lastMouseY = 0;\n    mouseX = mouseY = 0;\n    mouseDown = false;\n    ctx.beginPath();\n    // Mousedown\n    canvas.addEventListener('mousedown', (e) => {\n      if (this.mainModel.state.currentTool === 'fillRectangle') {\n        lastMouseX = Math.floor(getCursorPosition(canvas, e).x / this.getSize());\n        lastMouseY = Math.floor(getCursorPosition(canvas, e).y / this.getSize());\n        mouseDown = true;\n      }\n    });\n    // MouseUP\n    canvas.addEventListener('mouseup', (e) => {\n      if (this.mainModel.state.currentTool === 'fillRectangle') {\n        mouseDown = false;\n        ctx.beginPath();\n      }\n    });\n    // MouseMove\n    canvas.addEventListener('mousemove', (e) => {\n      if (this.mainModel.state.currentTool === 'fillRectangle') {\n        mouseX = Math.floor(getCursorPosition(canvas, e).x / this.getSize());\n        mouseY = Math.floor(getCursorPosition(canvas, e).y / this.getSize());\n        if (mouseDown) {\n          // ctx.clearRect(0, 0, canvas.width, canvas.height);\n          ctx.beginPath();\n          const width = mouseX - lastMouseX;\n          const height = mouseY - lastMouseY;\n          ctx.rect(lastMouseX, lastMouseY, width, height);\n          ctx.fillStyle = this.mainModel.getCursorColor();\n          ctx.lineWidth = 1;\n          ctx.fill();\n        }\n      }\n    });\n  }\n\n  strokeRectangle() {\n    let lastMouseX;\n    let lastMouseY;\n    let mouseDown;\n    let mouseX;\n    let mouseY;\n    lastMouseX = lastMouseY = 0;\n    mouseX = mouseY = 0;\n    mouseDown = false;\n    ctx.beginPath();\n    // Mousedown\n    canvas.addEventListener('mousedown', (e) => {\n      if (this.mainModel.state.currentTool === 'strokeRectangle') {\n        lastMouseX = Math.floor(getCursorPosition(canvas, e).x / this.getSize());\n        lastMouseY = Math.floor(getCursorPosition(canvas, e).y / this.getSize());\n        mouseDown = true;\n      }\n    });\n    // MouseUP\n    canvas.addEventListener('mouseup', (e) => {\n      if (this.mainModel.state.currentTool === 'strokeRectangle') {\n        mouseDown = false;\n        ctx.fillStyle = '#fff';\n        ctx.fill();\n        ctx.beginPath();\n      }\n    });\n    // MouseMove\n    canvas.addEventListener('mousemove', (e) => {\n      if (this.mainModel.state.currentTool === 'strokeRectangle') {\n        mouseX = Math.floor(getCursorPosition(canvas, e).x / this.getSize());\n        mouseY = Math.floor(getCursorPosition(canvas, e).y / this.getSize());\n        if (mouseDown) {\n          const width = mouseX - lastMouseX;\n          const height = mouseY - lastMouseY;\n          ctx.rect(lastMouseX, lastMouseY, width, height);\n          ctx.strokeStyle = this.mainModel.getCursorColor();\n          ctx.lineWidth = 1;\n          ctx.stroke();\n        }\n      }\n    });\n  }\n\n  fillCircle() {\n    let lastMouseX;\n    let lastMouseY;\n    let mouseDown;\n    let mouseX;\n    let mouseY;\n    lastMouseX = lastMouseY = 0;\n    mouseX = mouseY = 0;\n    mouseDown = false;\n    ctx.beginPath();\n    // Mousedown\n    canvas.addEventListener('mousedown', (e) => {\n      if (this.mainModel.state.currentTool === 'fillCircle') {\n        lastMouseX = Math.floor(getCursorPosition(canvas, e).x / this.getSize());\n        lastMouseY = Math.floor(getCursorPosition(canvas, e).y / this.getSize());\n        mouseDown = true;\n      }\n    });\n    // MouseUP\n    canvas.addEventListener('mouseup', (e) => {\n      if (this.mainModel.state.currentTool === 'fillCircle') {\n        mouseDown = false;\n        ctx.beginPath();\n      }\n    });\n    // MouseMove\n    canvas.addEventListener('mousemove', (e) => {\n      if (this.mainModel.state.currentTool === 'fillCircle') {\n        mouseX = Math.floor(getCursorPosition(canvas, e).x / this.getSize());\n        mouseY = Math.floor(getCursorPosition(canvas, e).y / this.getSize());\n        if (mouseDown) {\n          // ctx.clearRect(0, 0, canvas.width, canvas.height);\n          ctx.beginPath();\n          // eslint-disable-next-line radix\n          const radious = parseInt((mouseX - lastMouseX) - (mouseY - lastMouseY) / 2);\n          ctx.arc(lastMouseX, lastMouseY, Math.abs(radious), 0, 2 * Math.PI);\n          ctx.fillStyle = this.mainModel.getCursorColor();\n          ctx.lineWidth = 1;\n          ctx.fill();\n        }\n      }\n    });\n  }\n\n  strokeCircle() {\n    let lastMouseX;\n    let lastMouseY;\n    let mouseDown;\n    let mouseX;\n    let mouseY;\n    lastMouseX = lastMouseY = 0;\n    mouseX = mouseY = 0;\n    mouseDown = false;\n    ctx.beginPath();\n    // Mousedown\n    canvas.addEventListener('mousedown', (e) => {\n      if (this.mainModel.state.currentTool === 'strokeCircle') {\n        lastMouseX = Math.floor(getCursorPosition(canvas, e).x / this.getSize());\n        lastMouseY = Math.floor(getCursorPosition(canvas, e).y / this.getSize());\n        mouseDown = true;\n      }\n    });\n    // MouseUP\n    canvas.addEventListener('mouseup', (e) => {\n      if (this.mainModel.state.currentTool === 'strokeCircle') {\n        mouseDown = false;\n        ctx.fillStyle = '#fff';\n        ctx.fill();\n        ctx.beginPath();\n      }\n    });\n    // MouseMove\n    canvas.addEventListener('mousemove', (e) => {\n      if (this.mainModel.state.currentTool === 'strokeCircle') {\n        mouseX = Math.floor(getCursorPosition(canvas, e).x / this.getSize());\n        mouseY = Math.floor(getCursorPosition(canvas, e).y / this.getSize());\n        if (mouseDown) {\n          ctx.beginPath();\n          // eslint-disable-next-line radix\n          const radious = parseInt((mouseX - lastMouseX) - (mouseY - lastMouseY) / 2);\n          ctx.arc(lastMouseX, lastMouseY, Math.abs(radious), 0, 2 * Math.PI);\n          ctx.strokeStyle = this.mainModel.getCursorColor();\n          ctx.lineWidth = 1;\n          ctx.stroke();\n        }\n      }\n    });\n  }\n\n  createFrame() {\n    const target = document.getElementById('animation');\n    let count = 0;\n    const startAnimation = () => {\n      clearInterval(animationTimer);\n      const frames = this.mainModel.getFrames();\n      const singleFrame = frames[count];\n      if (count < frames.length) {\n        target.innerHTML = `<img src=\"${singleFrame.src}\"></img>`;\n        count++;\n      } else {\n        count = 0;\n      }\n      animationTimer = setInterval(startAnimation, (1000 / this.mainModel.getFps()));\n    };\n    let animationTimer = setInterval(startAnimation, (1000 / this.mainModel.getFps()));\n    const createBtn = document.querySelector('#createFrameBtn');\n    createBtn.addEventListener('mouseup', (e) => {\n      e.preventDefault();\n      const frame = this.appView.dataToImage(canvas);\n      this.appView.render(frame);\n      // this.mainModel.localStorage().getBase64Image(canvas);\n      this.mainModel.setFrames(frame);\n      this.mainModel.getFrames();\n    });\n  }\n  createGif() {\n    // eslint - disable - next - line vars - on - top\n    // eslint - disable - next - line no -var\n    const animationTarget = document.getElementById('anima');\n    let gifForDown = animationTarget.attributes[0].nodeValue;\n    const frames = this.mainModel.getFrames();\n    var gif = new GIF({\n      workers: 2,\n      quality: 5,\n    });\n\n    frames.forEach(e => {\n      gif.addFrame(e);\n    })\n    gif.on('finished', function (blob) {\n      let blob1 = URL.createObjectURL(blob);\n      animationTarget.src = URL.createObjectURL(blob);\n      download(`data:image/gif;base64,${blob1}`, \"dlDataUrlBin.gif\", \"image/gif\");\n      console.log(blob1);\n      this.mainModel.setBlob(blob1);\n    });\n    gif.render();\n    let blob2 = this.mainModel.getBlob();\n    download(`data:image/gif;base64,${blob2}`, \"dlDataUrlBin.gif\", \"image/gif\");\n    // console.log(animationTarget);\n  }\n}\n","/* eslint-disable no-plusplus */\n/* eslint-disable no-unused-vars */\nimport App from './app';\n\nconst app = new App();\napp.start();\n","import MainModel from './models/MainModel';\nimport MainView from './views/MainView';\nimport MainController from './controllers/MainController';\n/* eslint-disable class-methods-use-this */\n/* eslint-disable no-unused-vars */\nexport default class App {\n  start() {\n    // login\n    const mainModel = new MainModel();\n    mainModel.init();\n    const mainView = new MainView();\n    const mainController = new MainController(mainModel, mainView);\n  }\n}\n"],"sourceRoot":""}